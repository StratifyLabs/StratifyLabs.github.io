---
layout: page
title: CoActionOS Docs
---
{% include JB/setup %}
<script type="text/javascript" src="doxy-boot.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Memory (RAM/Flash)<div class="ingroups"><a class="el" href="group___p_e_r_i_p_h_i_o.html">Peripheral Input/Output</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Memory (RAM/Flash):</div>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group___m_e_m.svg" width="368" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The flash memory software module allows the user code to read memory in the flash program space. Reading the flash is portable across all supported MCU's. However, writing the flash is dependent on the MCU page size. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmem__attr__t.html">mem_attr_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the devices attributes.  <a href="structmem__attr__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmem__pageinfo__t.html">mem_pageinfo_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the characteristics of a page.  <a href="structmem__pageinfo__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaebc4771824dac98e7aee93a4de063353"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaebc4771824dac98e7aee93a4de063353"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m.html#gaebc4771824dac98e7aee93a4de063353">MEM_MIN_FLASH_WRITE_SIZE</a></td></tr>
<tr class="memdesc:gaebc4771824dac98e7aee93a4de063353"><td class="mdescLeft">&#160;</td><td class="mdescRight">This defines the MCU specific value for the minimum write size. This is also the minimum step and alignment size for writing the flash. <br/></td></tr>
<tr class="separator:gaebc4771824dac98e7aee93a4de063353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdad7ca9519210528788a3a020124f7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabdad7ca9519210528788a3a020124f7a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m.html#gabdad7ca9519210528788a3a020124f7a">MEM_MAX_FLASH_WRITE_SIZE</a></td></tr>
<tr class="memdesc:gabdad7ca9519210528788a3a020124f7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This defines the MCU specific value for the maximum write size for a flash operation. <br/></td></tr>
<tr class="separator:gabdad7ca9519210528788a3a020124f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14bd3264693fbe0bd29cfa33f049e340"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga14bd3264693fbe0bd29cfa33f049e340"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m.html#ga14bd3264693fbe0bd29cfa33f049e340">I_MEM_GETATTR</a></td></tr>
<tr class="memdesc:ga14bd3264693fbe0bd29cfa33f049e340"><td class="mdescLeft">&#160;</td><td class="mdescRight">This request gets the memory attributes. <br/></td></tr>
<tr class="separator:ga14bd3264693fbe0bd29cfa33f049e340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2ec1764b978fcab0076286541120600"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m.html#gab2ec1764b978fcab0076286541120600">I_MEM_ERASEPAGE</a></td></tr>
<tr class="memdesc:gab2ec1764b978fcab0076286541120600"><td class="mdescLeft">&#160;</td><td class="mdescRight">See details below.  <a href="#gab2ec1764b978fcab0076286541120600">More...</a><br/></td></tr>
<tr class="separator:gab2ec1764b978fcab0076286541120600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb04a1fd016958755d71ee89d93e4082"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m.html#gabb04a1fd016958755d71ee89d93e4082">I_MEM_GETPAGEINFO</a></td></tr>
<tr class="memdesc:gabb04a1fd016958755d71ee89d93e4082"><td class="mdescLeft">&#160;</td><td class="mdescRight">See details below.  <a href="#gabb04a1fd016958755d71ee89d93e4082">More...</a><br/></td></tr>
<tr class="separator:gabb04a1fd016958755d71ee89d93e4082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1e09ee7929bd29f5efde4f9e7d7c499"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_e_m.html#gad1e09ee7929bd29f5efde4f9e7d7c499">I_MEM_WRITEPAGE</a></td></tr>
<tr class="memdesc:gad1e09ee7929bd29f5efde4f9e7d7c499"><td class="mdescLeft">&#160;</td><td class="mdescRight">See details below.  <a href="#gad1e09ee7929bd29f5efde4f9e7d7c499">More...</a><br/></td></tr>
<tr class="separator:gad1e09ee7929bd29f5efde4f9e7d7c499"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga80155586fa275b28773c9b203f52caba"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br/>
&#160;&#160;<a class="el" href="group___m_e_m.html#gga80155586fa275b28773c9b203f52cabaace2f63f226d25f9614d12001b7832b6a">MEM_PAGEINFO_TYPE_QUERY</a>, 
<br/>
&#160;&#160;<a class="el" href="group___m_e_m.html#gga80155586fa275b28773c9b203f52cabaae3db254b91a6adcdbb87eb9c978d8af3">MEM_PAGEINFO_TYPE_RAM</a>, 
<br/>
&#160;&#160;<a class="el" href="group___m_e_m.html#gga80155586fa275b28773c9b203f52cabaa093faf180cdabc3b7693234a8068c553">MEM_PAGEINFO_TYPE_FLASH</a>
<br/>
 }</td></tr>
<tr class="separator:ga80155586fa275b28773c9b203f52caba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gab2ec1764b978fcab0076286541120600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_MEM_ERASEPAGE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request erases the page number specified by the ctl argument.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(mem_fd, <a class="code" href="group___m_e_m.html#gab2ec1764b978fcab0076286541120600">I_MEM_ERASEPAGE</a>, 3); <span class="comment">//erase page 3</span></div>
</div><!-- fragment --><p>This function has no effect for pages that are not flash pages. </p>

</div>
</div>
<a class="anchor" id="gabb04a1fd016958755d71ee89d93e4082"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_MEM_GETPAGEINFO</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request gets the page number for the specified address. The ctl argument is the address and the return value is the page.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="structmem__pageinfo__t.html">mem_pageinfo_t</a> pageinfo;</div>
<div class="line">pageinfo.<a class="code" href="structmem__pageinfo__t.html#a2815c969da0de60ae30a6ea6e9029ab8">type</a> = MEM_PAGEINO_TYPE_FLASH;</div>
<div class="line">paginfo.num = 0;</div>
<div class="line"><span class="comment">//This will get the size and address of flash page 0</span></div>
<div class="line"><a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(mem_fd, I_MEM_GET_PAGEINFO, &amp;pageinfo );</div>
</div><!-- fragment --><p>Or to lookup based on the address:</p>
<div class="fragment"><div class="line"><a class="code" href="structmem__pageinfo__t.html">mem_pageinfo_t</a> pageinfo;</div>
<div class="line">pageinfo.<a class="code" href="structmem__pageinfo__t.html#a2815c969da0de60ae30a6ea6e9029ab8">type</a> = <a class="code" href="group___m_e_m.html#gga80155586fa275b28773c9b203f52cabaace2f63f226d25f9614d12001b7832b6a">MEM_PAGEINFO_TYPE_QUERY</a>;</div>
<div class="line">paginfo.addr = 0x00001000;</div>
<div class="line"><span class="comment">//This will get the size and address of flash page 0</span></div>
<div class="line"><a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(mem_fd, <a class="code" href="group___m_e_m.html#gabb04a1fd016958755d71ee89d93e4082">I_MEM_GETPAGEINFO</a>, &amp;pageinfo );</div>
</div><!-- fragment --><p>The <em>type</em>, <em>num</em>, and <em>size</em> parameters will then be populated. </p>

</div>
</div>
<a class="anchor" id="gad1e09ee7929bd29f5efde4f9e7d7c499"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_MEM_WRITEPAGE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request writes a page to flash memory. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga80155586fa275b28773c9b203f52caba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This lists each type of page. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga80155586fa275b28773c9b203f52cabaace2f63f226d25f9614d12001b7832b6a"></a>MEM_PAGEINFO_TYPE_QUERY</em>&#160;</td><td class="fielddoc">
<p>Query the page type </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga80155586fa275b28773c9b203f52cabaae3db254b91a6adcdbb87eb9c978d8af3"></a>MEM_PAGEINFO_TYPE_RAM</em>&#160;</td><td class="fielddoc">
<p>RAM </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga80155586fa275b28773c9b203f52cabaa093faf180cdabc3b7693234a8068c553"></a>MEM_PAGEINFO_TYPE_FLASH</em>&#160;</td><td class="fielddoc">
<p>Flash </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
