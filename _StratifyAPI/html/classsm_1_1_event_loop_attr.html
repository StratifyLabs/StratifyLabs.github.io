---
layout: page
title: Stratify OS Docs
page_source: Doxygen
---
{% include JB/setup %}
<script type="text/javascript" src="doxy-boot.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>sm</b></li><li class="navelem"><a class="el" href="classsm_1_1_event_loop_attr.html">EventLoopAttr</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">sm::EventLoopAttr Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Documentation</h2>
<div class="textblock"><p>This class defines attributes that apply to an <a class="el" href="classui_1_1_event_loop.html" title="Event Loop Class (Graphical UI) ">ui::EventLoop</a>. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4b55e44f6f78289f4d483f3e0ba125b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#a4b55e44f6f78289f4d483f3e0ba125b6">EventLoopAttr</a> ()</td></tr>
<tr class="separator:a4b55e44f6f78289f4d483f3e0ba125b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf18fdb20cbe707872fd1540d36c11d2"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#aaf18fdb20cbe707872fd1540d36c11d2">hibernation_threshold</a> () const </td></tr>
<tr class="separator:aaf18fdb20cbe707872fd1540d36c11d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac65756c05b3ef1089d3a34cd13f34e5a"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#ac65756c05b3ef1089d3a34cd13f34e5a">period</a> () const </td></tr>
<tr class="separator:ac65756c05b3ef1089d3a34cd13f34e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0d08df122330f6df381ec2729221fe"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#aab0d08df122330f6df381ec2729221fe">refresh_wait_resolution</a> () const </td></tr>
<tr class="separator:aab0d08df122330f6df381ec2729221fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d6a20dc72e701c1d2923f141afab58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#ad4d6a20dc72e701c1d2923f141afab58">set_hibernation_threshold</a> (u16 msec)</td></tr>
<tr class="separator:ad4d6a20dc72e701c1d2923f141afab58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a765c531542c4ff499b6ad83c5b288f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#a3a765c531542c4ff499b6ad83c5b288f">set_period</a> (u16 msec)</td></tr>
<tr class="separator:a3a765c531542c4ff499b6ad83c5b288f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a60d39d963cf90084abbfab3df88db8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#a8a60d39d963cf90084abbfab3df88db8">set_refresh_wait_resolution</a> (u16 usec)</td></tr>
<tr class="separator:a8a60d39d963cf90084abbfab3df88db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a851c33a857f9840be0b969da2c460b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#a5a851c33a857f9840be0b969da2c460b">set_update_period</a> (u16 msec)</td></tr>
<tr class="separator:a5a851c33a857f9840be0b969da2c460b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21427fd789ac098c070bf10893d0fb82"><td class="memItemLeft" align="right" valign="top">u16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsm_1_1_event_loop_attr.html#a21427fd789ac098c070bf10893d0fb82">update_period</a> () const </td></tr>
<tr class="separator:a21427fd789ac098c070bf10893d0fb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4b55e44f6f78289f4d483f3e0ba125b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sm::EventLoopAttr::EventLoopAttr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct new <a class="el" href="classsm_1_1_event.html" title="Event Class. ">Event</a> Loop attributes </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aaf18fdb20cbe707872fd1540d36c11d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u16 sm::EventLoopAttr::hibernation_threshold </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Accesses the hibernate timeout in milliseconds. </p>

</div>
</div>
<a class="anchor" id="ac65756c05b3ef1089d3a34cd13f34e5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u16 sm::EventLoopAttr::period </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Accesses the minimum period of the event loop in milliseconds. </p>

</div>
</div>
<a class="anchor" id="aab0d08df122330f6df381ec2729221fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u16 sm::EventLoopAttr::refresh_wait_resolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Accesses the display refresh wait resolution time in microseconds.</p>
<p>The loop will always wait for the display driver to complete its refresh before handling events that modify the display memory. This value determines how long to sleep between polling events to the display driver. </p>

</div>
</div>
<a class="anchor" id="ad4d6a20dc72e701c1d2923f141afab58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sm::EventLoopAttr::set_hibernation_threshold </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>msec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the hibernate threshold in milliseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msec</td><td>The hibernate threshold in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<p>If the update period (<a class="el" href="classsm_1_1_event_loop_attr.html#a5a851c33a857f9840be0b969da2c460b">set_update_period()</a>) is greater than the hibernation threshold, the event loop will execute the kernel request for hibernation. If the kernel request is not handled, the event loop will put the system in hibernate. The logic looks like this:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>( <a class="code" href="classsm_1_1_event_loop_attr.html#a21427fd789ac098c070bf10893d0fb82">update_period</a>() &gt; <a class="code" href="classsm_1_1_event_loop_attr.html#aaf18fdb20cbe707872fd1540d36c11d2">hibernation_threshold</a>() ){</div><div class="line">     <span class="keywordflow">if</span>( Sys::request(SAPI_REQUEST_HIBERNATE) &lt; 0 ){</div><div class="line">          <a class="codeRef" doxygen="/Users/tgil/git/StratifyLabs.github.io/_StratifyOS/html/StratifyOS.tag:../../StratifyOS/html/" href="../../StratifyOS/html/group___s_t_f_y.html#gae65665332278b3b47ba519a1aba0222b">Sys::hibernate</a>( <a class="code" href="classsm_1_1_event_loop_attr.html#a21427fd789ac098c070bf10893d0fb82">update_period</a>() / 1000 );  <span class="comment">//kernel hibernate will wake on an RTC alarm if the RTC is present</span></div><div class="line">     }</div><div class="line">}</div></div><!-- fragment --><p>This logic allows the BSP (which implements the <a class="elRef" doxygen="/Users/tgil/git/StratifyLabs.github.io/_StratifyOS/html/StratifyOS.tag:../../StratifyOS/html/" href="../../StratifyOS/html/group___s_t_f_y.html#gace57c1587a1b9898b868e269d8a0e2ba">kernel_request()</a> function called by Sys::request()) to override or delay the hibernation until other applications or tasks are ready.</p>
<p>By default, the hibernation threshold is set to the max value (65536) effectively disabling hibernation.</p>
<p>The system will stay in hibernation mode until a hardware interrupt wakes the processor. This interrupt typically needs to be a external pin interrupt or RTC alarm because most peripherals are off during hiberation. </p>

</div>
</div>
<a class="anchor" id="a3a765c531542c4ff499b6ad83c5b288f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sm::EventLoopAttr::set_period </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>msec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the period of the event loop in milliseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msec</td><td>The loop period in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<p>The loop will delay this amount on every iteration. This determines how often events are processed (such as buttons). It is typically a much smaller value than the update period which determines how often <a class="el" href="classsm_1_1_event.html#adf6ef9dcf1625b246745a33030af2bc9a4edb5a8caa11f96fbeb4fb90a5559f26">Event::UPDATE</a> is handled. </p>

</div>
</div>
<a class="anchor" id="a8a60d39d963cf90084abbfab3df88db8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sm::EventLoopAttr::set_refresh_wait_resolution </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>usec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the value of the display refresh wait resolution in microseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">usec</td><td>The number of microseconds to between display driver polling events</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="classsm_1_1_event_loop_attr.html#aab0d08df122330f6df381ec2729221fe">refresh_wait_resolution()</a> for more details. </p>

</div>
</div>
<a class="anchor" id="a5a851c33a857f9840be0b969da2c460b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sm::EventLoopAttr::set_update_period </td>
          <td>(</td>
          <td class="paramtype">u16&#160;</td>
          <td class="paramname"><em>msec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the <a class="el" href="classsm_1_1_event.html#adf6ef9dcf1625b246745a33030af2bc9a4edb5a8caa11f96fbeb4fb90a5559f26">Event::UPDATE</a> period which defines how often the event loop will trigger the <a class="el" href="classsm_1_1_event.html#adf6ef9dcf1625b246745a33030af2bc9a4edb5a8caa11f96fbeb4fb90a5559f26">Event::UPDATE</a> command for the current element.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msec</td><td>The period in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<p>If the update period is less than the loop period (see <a class="el" href="classsm_1_1_event_loop_attr.html#a3a765c531542c4ff499b6ad83c5b288f">set_period()</a>), <a class="el" href="classsm_1_1_event.html#adf6ef9dcf1625b246745a33030af2bc9a4edb5a8caa11f96fbeb4fb90a5559f26">Event::UPDATE</a> will be called on every loop at the loop period interval. </p>

</div>
</div>
<a class="anchor" id="a21427fd789ac098c070bf10893d0fb82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u16 sm::EventLoopAttr::update_period </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Accesses the period for firing the <a class="el" href="classsm_1_1_event.html#adf6ef9dcf1625b246745a33030af2bc9a4edb5a8caa11f96fbeb4fb90a5559f26">Event::UPDATE</a> in milliseconds. </p>

</div>
</div>
</div><!-- contents -->
<div style="background: #fff;">
	<div class="container">
		{% include themes/twitter/signup.html %}
	</div>
</div>