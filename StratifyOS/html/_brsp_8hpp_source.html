---
layout: page
title: CoActionOS Docs
---
{% include JB/setup %}
<script type="text/javascript" src="doxy-boot.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9bec7083027963d9f9ceae2cc7474de5.html">git</a></li><li class="navelem"><a class="el" href="dir_7cf1b6485cfba764416153c23f3606de.html">CoActionOS</a></li><li class="navelem"><a class="el" href="dir_c2967a70181ff23fef253633ce67aa26.html">CoActionOS-Applib</a></li><li class="navelem"><a class="el" href="dir_efec8f003da7aab1cb52b9ecbc6d2833.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Brsp.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_brsp_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#ifndef BRSP_HPP_</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define BRSP_HPP_</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_uart_8hpp.html">Uart.hpp</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;StringTypes.hpp&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="class_brsp_address.html">   11</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_brsp_address.html">BrspAddress</a> : <span class="keyword">public</span> <a class="code" href="class_string_static.html">StringStatic</a>&lt;12&gt; {</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;     <a class="code" href="class_brsp_address.html">BrspAddress</a>() : <a class="code" href="class_string_static.html">StringStatic</a>(){}</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;};</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="class_brsp.html">   40</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_brsp.html">Brsp</a> : <span class="keyword">public</span> <a class="code" href="class_uart.html">Uart</a>{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="class_brsp.html#a0117467061fc63b228c19f69371a02c2">   47</a></span>&#160;     <a class="code" href="class_brsp.html#a0117467061fc63b228c19f69371a02c2">Brsp</a>(Uart::port_t port) : <a class="code" href="class_uart.html">Uart</a>(port){ timeout = 100; };</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="class_brsp.html#a00b8f02e85531278d1d8580a783eb0a4">   50</a></span>&#160;     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_brsp.html#a00b8f02e85531278d1d8580a783eb0a4">settimeout</a>(<span class="keywordtype">int</span> t){ timeout = t; }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47">   54</a></span>&#160;     <span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47afdd7f3d8048888b9a47d60726cf8cb1b">   55</a></span>&#160;          <a class="code" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47afdd7f3d8048888b9a47d60726cf8cb1b">MODE_COMMAND</a> ,</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47ae37f329d3e148989395b5232a806a65a">   56</a></span>&#160;          <a class="code" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47ae37f329d3e148989395b5232a806a65a">MODE_DATA</a> ,</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47a153b041a75e2914a30728b3d531f7bde">   57</a></span>&#160;          <a class="code" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47a153b041a75e2914a30728b3d531f7bde">MODE_REMOTE_COMMAND</a> </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;     } <a class="code" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47">mode_t</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65d">   62</a></span>&#160;     <span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dad6cac7a8b5e255422f87d6d26cb89502">   63</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dad6cac7a8b5e255422f87d6d26cb89502">BAUDRATE_9600</a> ,</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dae682b75ceda02e20bde6d015514c29ff">   64</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dae682b75ceda02e20bde6d015514c29ff">BAUDRATE_19200</a> ,</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da00143a6fd0b3e17be5fec0b46866898a">   65</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da00143a6fd0b3e17be5fec0b46866898a">BAUDRATE_38400</a> ,</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dabc1ec0b2e0e632a38ef61c917123f997">   66</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dabc1ec0b2e0e632a38ef61c917123f997">BAUDRATE_57600</a> ,</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da2499dc76b17752b5a29f19501b21e62d">   67</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da2499dc76b17752b5a29f19501b21e62d">BAUDRATE_115200</a> ,</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da0facd2e9414ef98bdae71ec58b1d5d36">   68</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da0facd2e9414ef98bdae71ec58b1d5d36">BAUDRATE_230400</a> ,</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65daf1d5b75955e85dbba2e1f01346ec1632">   69</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65daf1d5b75955e85dbba2e1f01346ec1632">BAUDRATE_460800</a> ,</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da2c81e2d588127c58a143da3f44c4468a">   70</a></span>&#160;          <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da2c81e2d588127c58a143da3f44c4468a">BAUDRATE_921600</a> </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;     } <a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65d">baudrate_t</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="class_brsp.html#a400dffbf408fad4169e2635463d04072">   75</a></span>&#160;     <span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="class_brsp.html#a400dffbf408fad4169e2635463d04072afbb33e96821c5b8fd8bb628f3a7f7805">   76</a></span>&#160;          <a class="code" href="class_brsp.html#a400dffbf408fad4169e2635463d04072afbb33e96821c5b8fd8bb628f3a7f7805">PARITY_NONE</a> ,</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="class_brsp.html#a400dffbf408fad4169e2635463d04072a0774a51c2904baa0f43a3d85b13acf5d">   77</a></span>&#160;          <a class="code" href="class_brsp.html#a400dffbf408fad4169e2635463d04072a0774a51c2904baa0f43a3d85b13acf5d">PARITY_ODD</a> ,</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_brsp.html#a400dffbf408fad4169e2635463d04072a2344c146b453a41851bf8189be905f27">   78</a></span>&#160;          <a class="code" href="class_brsp.html#a400dffbf408fad4169e2635463d04072a2344c146b453a41851bf8189be905f27">PARITY_EVEN</a> </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;     } <a class="code" href="class_brsp.html#a400dffbf408fad4169e2635463d04072">parity_t</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758">   83</a></span>&#160;     <span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758aa7a4ce3c6ad417e6550549e257286240">   84</a></span>&#160;          <a class="code" href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758aa7a4ce3c6ad417e6550549e257286240">STOPBITS_ONE</a> ,</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758a39c18982e6a7dc858c35fc1881b01202">   85</a></span>&#160;          <a class="code" href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758a39c18982e6a7dc858c35fc1881b01202">STOPBITS_TWO</a> </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;     } <a class="code" href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758">stopbits_t</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="class_brsp.html#a4540263757e395151c423f69f2029337">   90</a></span>&#160;     <span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="class_brsp.html#a4540263757e395151c423f69f2029337a7d26599f4c23d8a5993c6b462c54f0b0">   91</a></span>&#160;          <a class="code" href="class_brsp.html#a4540263757e395151c423f69f2029337a7d26599f4c23d8a5993c6b462c54f0b0">FLOWCONTROL_OFF</a> ,</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="class_brsp.html#a4540263757e395151c423f69f2029337a145de910d6088f9d55d3ee34aa9f95df">   92</a></span>&#160;          <a class="code" href="class_brsp.html#a4540263757e395151c423f69f2029337a145de910d6088f9d55d3ee34aa9f95df">FLOWCONTROL_ON</a> </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;     } <a class="code" href="class_brsp.html#a4540263757e395151c423f69f2029337">flowcontrol_t</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;     <span class="keywordtype">bool</span> <a class="code" href="class_brsp.html#a228428f0f6f0b2639f14e0da198b79c0">setuart</a>(<a class="code" href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65d">baudrate_t</a> baudrate, <a class="code" href="class_brsp.html#a400dffbf408fad4169e2635463d04072">parity_t</a> parity, <a class="code" href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758">stopbits_t</a> stopbits, <a class="code" href="class_brsp.html#a4540263757e395151c423f69f2029337">flowcontrol_t</a> flowcontrol);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#a557fa9f3c93880bd1b4dc705d1a93f50">setmode</a>(<a class="code" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47">mode_t</a> mode, <span class="keywordtype">int</span> handle = -1);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#a92591927f3008200d587c4a8684e993d">discover</a>(<a class="code" href="class_brsp_address.html">BrspAddress</a> addrs[], <span class="keywordtype">int</span> max);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#ab1eb9a1491028049d9f38f6706dfb369">connect</a>(<span class="keyword">const</span> <a class="code" href="class_brsp_address.html">BrspAddress</a> &amp; <a class="code" href="class_brsp.html#a19bd7a9f1426fbfe9478ebebe17d0086">addr</a>, <a class="code" href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47">mode_t</a> mode);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#a59dbca6cc9e9bcdd670a274a0b46184c">disconnect</a>(<span class="keywordtype">int</span> handle = 0);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;     <span class="keywordtype">bool</span> <a class="code" href="class_brsp.html#ae43fc6058b335d60efcf47df4291c978">paired</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_brsp.html#a75f9b232092440d2c5311fea746d2231">  114</a></span>&#160;     <span class="keyword">inline</span> <a class="code" href="class_string_small.html">StringSmall</a> <a class="code" href="class_brsp.html#a75f9b232092440d2c5311fea746d2231">name</a>(<span class="keywordtype">void</span>){ <span class="keywordflow">return</span> property(<span class="stringliteral">&quot;ATSN?\r&quot;</span>); }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="class_brsp.html#a1d7061f2d2ebb944eb3e542b0e4783a2">  117</a></span>&#160;     <span class="keyword">inline</span> <a class="code" href="class_string_small.html">StringSmall</a> <a class="code" href="class_brsp.html#a1d7061f2d2ebb944eb3e542b0e4783a2">version</a>(<span class="keywordtype">void</span>){ <span class="keywordflow">return</span> property(<span class="stringliteral">&quot;ATV?\r&quot;</span>); }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="class_brsp.html#a92b767c4247a8499d7621f8eaa1be35e">  120</a></span>&#160;     <span class="keyword">inline</span> <a class="code" href="class_string_small.html">StringSmall</a> <a class="code" href="class_brsp.html#a92b767c4247a8499d7621f8eaa1be35e">type</a>(<span class="keywordtype">void</span>){ <span class="keywordflow">return</span> property(<span class="stringliteral">&quot;ATMT?\r&quot;</span>); }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="class_brsp.html#a01fbd4d828c4769a138f50f4feb25336">  123</a></span>&#160;     <span class="keyword">inline</span> <a class="code" href="class_string_small.html">StringSmall</a> <a class="code" href="class_brsp.html#a01fbd4d828c4769a138f50f4feb25336">stacktype</a>(<span class="keywordtype">void</span>){ <span class="keywordflow">return</span> property(<span class="stringliteral">&quot;ATST?\r&quot;</span>); }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="class_brsp.html#a19bd7a9f1426fbfe9478ebebe17d0086">  126</a></span>&#160;     <span class="keyword">inline</span> <a class="code" href="class_string_small.html">StringSmall</a> <a class="code" href="class_brsp.html#a19bd7a9f1426fbfe9478ebebe17d0086">addr</a>(<span class="keywordtype">void</span>){ <span class="keywordflow">return</span> property(<span class="stringliteral">&quot;ATA?\r&quot;</span>); }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;     <a class="code" href="class_string_small.html">StringSmall</a> <a class="code" href="class_brsp.html#ab860b4dda877373b645fc083046a8842">rssi</a>(<span class="keywordtype">int</span> handle);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;     <a class="code" href="class_string_medium.html">StringMedium</a> <a class="code" href="class_brsp.html#a1aad2d2a7d4c18283745552953585955">listen</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;     <span class="keywordtype">bool</span> <a class="code" href="class_brsp.html#a41ade64dbbd2c4beae56b7a3e0b7f4d7">event</a>(<a class="code" href="class_string_small.html">StringSmall</a> ev);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;     <span class="keywordtype">bool</span> <a class="code" href="class_brsp.html#a6b6f1878423724d1de37b736f5cfba06">setname</a>(<a class="code" href="class_string_small.html">StringSmall</a> <a class="code" href="class_brsp.html#a75f9b232092440d2c5311fea746d2231">name</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#ae73bbdb6790d1f7c9b343e9f21f1291c">sendcommand</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * command, <span class="keywordtype">void</span> (*response)(<span class="keywordtype">void</span> *, <span class="keyword">const</span> <span class="keywordtype">void</span> *,<span class="keywordtype">int</span>) = 0, <span class="keywordtype">void</span> * response_arg = 0);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#ae73bbdb6790d1f7c9b343e9f21f1291c">sendcommand</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * command, <span class="keywordtype">void</span> * buffer, <span class="keywordtype">int</span> max);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;     <span class="keywordtype">bool</span> <a class="code" href="class_brsp.html#adbbb7840f261b85daecdb4340b75bf60">wait</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * expected);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="class_brsp.html#a5ee5321e0b1ab5d349dc1b70dc50f801">  149</a></span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#a5ee5321e0b1ab5d349dc1b70dc50f801">set_connect_duty</a>(uint16_t duty, uint16_t period){ <span class="keywordflow">return</span> set_duty(<span class="charliteral">&#39;0&#39;</span>, duty, period); }</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="class_brsp.html#a164f411cb8a273afb61d345595fae6c5">  151</a></span>&#160;     <span class="keywordtype">int</span> <a class="code" href="class_brsp.html#a164f411cb8a273afb61d345595fae6c5">set_status_duty</a>(uint16_t duty, uint16_t period){ <span class="keywordflow">return</span> set_duty(<span class="charliteral">&#39;1&#39;</span>, duty, period); }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;     <span class="keywordtype">void</span> <a class="code" href="class_brsp.html#adbd767729d97d852401365e886216373">flush</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;     <a class="code" href="class_string_small.html">StringSmall</a> property(<a class="code" href="class_string_small.html">StringSmall</a> command);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;     <span class="keywordtype">int</span> setproperty(<a class="code" href="class_string_small.html">StringSmall</a> cmd, <a class="code" href="class_string_small.html">StringSmall</a> value);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;     <span class="keyword">using</span> <a class="code" href="class_periph.html#a70998e694688d44196c5198ae7cf4190">Uart::write</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;     <span class="keyword">using</span> <a class="code" href="class_periph.html#a70998e694688d44196c5198ae7cf4190">Periph::write</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;     <span class="keywordtype">int</span> timeout;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;     <span class="keywordtype">int</span> set_duty(<span class="keywordtype">char</span> led, uint16_t duty, uint16_t period);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;};</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* BRSP_HPP_ */</span><span class="preprocessor"></span></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65dae682b75ceda02e20bde6d015514c29ff"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dae682b75ceda02e20bde6d015514c29ff">Brsp::BAUDRATE_19200</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:64</div></div>
<div class="ttc" id="class_brsp_html_a1d7061f2d2ebb944eb3e542b0e4783a2"><div class="ttname"><a href="class_brsp.html#a1d7061f2d2ebb944eb3e542b0e4783a2">Brsp::version</a></div><div class="ttdeci">StringSmall version(void)</div><div class="ttdoc">Get the version of the device. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:117</div></div>
<div class="ttc" id="class_brsp_html_a400dffbf408fad4169e2635463d04072afbb33e96821c5b8fd8bb628f3a7f7805"><div class="ttname"><a href="class_brsp.html#a400dffbf408fad4169e2635463d04072afbb33e96821c5b8fd8bb628f3a7f7805">Brsp::PARITY_NONE</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:76</div></div>
<div class="ttc" id="class_brsp_html_a5ee5321e0b1ab5d349dc1b70dc50f801"><div class="ttname"><a href="class_brsp.html#a5ee5321e0b1ab5d349dc1b70dc50f801">Brsp::set_connect_duty</a></div><div class="ttdeci">int set_connect_duty(uint16_t duty, uint16_t period)</div><div class="ttdoc">Set the duty cycle of the connected status LED (PIO2) </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:149</div></div>
<div class="ttc" id="class_brsp_html_a400dffbf408fad4169e2635463d04072a0774a51c2904baa0f43a3d85b13acf5d"><div class="ttname"><a href="class_brsp.html#a400dffbf408fad4169e2635463d04072a0774a51c2904baa0f43a3d85b13acf5d">Brsp::PARITY_ODD</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:77</div></div>
<div class="ttc" id="class_brsp_html_a40c5a74cd6463cdff3c408d741a5f758a39c18982e6a7dc858c35fc1881b01202"><div class="ttname"><a href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758a39c18982e6a7dc858c35fc1881b01202">Brsp::STOPBITS_TWO</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:85</div></div>
<div class="ttc" id="class_brsp_html_a00b8f02e85531278d1d8580a783eb0a4"><div class="ttname"><a href="class_brsp.html#a00b8f02e85531278d1d8580a783eb0a4">Brsp::settimeout</a></div><div class="ttdeci">void settimeout(int t)</div><div class="ttdoc">The the millisecond timeout for waiting for replies. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:50</div></div>
<div class="ttc" id="_uart_8hpp_html"><div class="ttname"><a href="_uart_8hpp.html">Uart.hpp</a></div></div>
<div class="ttc" id="class_brsp_html_a4540263757e395151c423f69f2029337a145de910d6088f9d55d3ee34aa9f95df"><div class="ttname"><a href="class_brsp.html#a4540263757e395151c423f69f2029337a145de910d6088f9d55d3ee34aa9f95df">Brsp::FLOWCONTROL_ON</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:92</div></div>
<div class="ttc" id="class_brsp_html_a228428f0f6f0b2639f14e0da198b79c0"><div class="ttname"><a href="class_brsp.html#a228428f0f6f0b2639f14e0da198b79c0">Brsp::setuart</a></div><div class="ttdeci">bool setuart(baudrate_t baudrate, parity_t parity, stopbits_t stopbits, flowcontrol_t flowcontrol)</div><div class="ttdoc">set UART configuration </div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65d"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65d">Brsp::baudrate_t</a></div><div class="ttdeci">baudrate_t</div><div class="ttdoc">See below for details. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:62</div></div>
<div class="ttc" id="class_brsp_address_html"><div class="ttname"><a href="class_brsp_address.html">BrspAddress</a></div><div class="ttdoc">BRSP Address class. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:11</div></div>
<div class="ttc" id="class_brsp_html_ab1eb9a1491028049d9f38f6706dfb369"><div class="ttname"><a href="class_brsp.html#ab1eb9a1491028049d9f38f6706dfb369">Brsp::connect</a></div><div class="ttdeci">int connect(const BrspAddress &amp;addr, mode_t mode)</div><div class="ttdoc">Connect to the specified address. </div></div>
<div class="ttc" id="class_brsp_html_adbd767729d97d852401365e886216373"><div class="ttname"><a href="class_brsp.html#adbd767729d97d852401365e886216373">Brsp::flush</a></div><div class="ttdeci">void flush(void)</div><div class="ttdoc">Flush the serial buffer. </div></div>
<div class="ttc" id="class_brsp_html_a1aad2d2a7d4c18283745552953585955"><div class="ttname"><a href="class_brsp.html#a1aad2d2a7d4c18283745552953585955">Brsp::listen</a></div><div class="ttdeci">StringMedium listen(void)</div><div class="ttdoc">Listen for an event. </div></div>
<div class="ttc" id="class_string_static_html"><div class="ttname"><a href="class_string_static.html">StringStatic</a></div><div class="ttdoc">Static String Template Class. </div><div class="ttdef"><b>Definition:</b> String.hpp:152</div></div>
<div class="ttc" id="class_brsp_html_adbbb7840f261b85daecdb4340b75bf60"><div class="ttname"><a href="class_brsp.html#adbbb7840f261b85daecdb4340b75bf60">Brsp::wait</a></div><div class="ttdeci">bool wait(const char *expected)</div><div class="ttdoc">Wait for the expected response. </div></div>
<div class="ttc" id="class_brsp_html_a40c5a74cd6463cdff3c408d741a5f758"><div class="ttname"><a href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758">Brsp::stopbits_t</a></div><div class="ttdeci">stopbits_t</div><div class="ttdoc">See below for details. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:83</div></div>
<div class="ttc" id="class_brsp_html_a41ade64dbbd2c4beae56b7a3e0b7f4d7"><div class="ttname"><a href="class_brsp.html#a41ade64dbbd2c4beae56b7a3e0b7f4d7">Brsp::event</a></div><div class="ttdeci">bool event(StringSmall ev)</div><div class="ttdoc">Check to see if the specified event arrived. </div></div>
<div class="ttc" id="class_brsp_html_a400dffbf408fad4169e2635463d04072"><div class="ttname"><a href="class_brsp.html#a400dffbf408fad4169e2635463d04072">Brsp::parity_t</a></div><div class="ttdeci">parity_t</div><div class="ttdoc">See below for details. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:75</div></div>
<div class="ttc" id="class_brsp_html_a75f9b232092440d2c5311fea746d2231"><div class="ttname"><a href="class_brsp.html#a75f9b232092440d2c5311fea746d2231">Brsp::name</a></div><div class="ttdeci">StringSmall name(void)</div><div class="ttdoc">Get the name of the device. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:114</div></div>
<div class="ttc" id="class_brsp_html"><div class="ttname"><a href="class_brsp.html">Brsp</a></div><div class="ttdoc">BRSP class (bluetooth low energy serial protocol) </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:40</div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65da2499dc76b17752b5a29f19501b21e62d"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da2499dc76b17752b5a29f19501b21e62d">Brsp::BAUDRATE_115200</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:67</div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65da0facd2e9414ef98bdae71ec58b1d5d36"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da0facd2e9414ef98bdae71ec58b1d5d36">Brsp::BAUDRATE_230400</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:68</div></div>
<div class="ttc" id="class_brsp_html_a695f334c2c162796c89880a47ff6ba47ae37f329d3e148989395b5232a806a65a"><div class="ttname"><a href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47ae37f329d3e148989395b5232a806a65a">Brsp::MODE_DATA</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:56</div></div>
<div class="ttc" id="class_brsp_html_a695f334c2c162796c89880a47ff6ba47"><div class="ttname"><a href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47">Brsp::mode_t</a></div><div class="ttdeci">mode_t</div><div class="ttdoc">See below for details. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:54</div></div>
<div class="ttc" id="class_brsp_html_a40c5a74cd6463cdff3c408d741a5f758aa7a4ce3c6ad417e6550549e257286240"><div class="ttname"><a href="class_brsp.html#a40c5a74cd6463cdff3c408d741a5f758aa7a4ce3c6ad417e6550549e257286240">Brsp::STOPBITS_ONE</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:84</div></div>
<div class="ttc" id="class_brsp_html_ae73bbdb6790d1f7c9b343e9f21f1291c"><div class="ttname"><a href="class_brsp.html#ae73bbdb6790d1f7c9b343e9f21f1291c">Brsp::sendcommand</a></div><div class="ttdeci">int sendcommand(const char *command, void(*response)(void *, const void *, int)=0, void *response_arg=0)</div><div class="ttdoc">Send a command (parse response with a callback) </div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65dabc1ec0b2e0e632a38ef61c917123f997"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dabc1ec0b2e0e632a38ef61c917123f997">Brsp::BAUDRATE_57600</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:66</div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65da2c81e2d588127c58a143da3f44c4468a"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da2c81e2d588127c58a143da3f44c4468a">Brsp::BAUDRATE_921600</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:70</div></div>
<div class="ttc" id="class_brsp_html_a4540263757e395151c423f69f2029337"><div class="ttname"><a href="class_brsp.html#a4540263757e395151c423f69f2029337">Brsp::flowcontrol_t</a></div><div class="ttdeci">flowcontrol_t</div><div class="ttdoc">See below for details. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:90</div></div>
<div class="ttc" id="class_brsp_html_ae43fc6058b335d60efcf47df4291c978"><div class="ttname"><a href="class_brsp.html#ae43fc6058b335d60efcf47df4291c978">Brsp::paired</a></div><div class="ttdeci">bool paired(void)</div><div class="ttdoc">Check if device is paired (returns true if paired) </div></div>
<div class="ttc" id="class_brsp_html_a164f411cb8a273afb61d345595fae6c5"><div class="ttname"><a href="class_brsp.html#a164f411cb8a273afb61d345595fae6c5">Brsp::set_status_duty</a></div><div class="ttdeci">int set_status_duty(uint16_t duty, uint16_t period)</div><div class="ttdoc">Set the duty cycle of the disconnected status LED (PIO5) </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:151</div></div>
<div class="ttc" id="class_brsp_html_a0117467061fc63b228c19f69371a02c2"><div class="ttname"><a href="class_brsp.html#a0117467061fc63b228c19f69371a02c2">Brsp::Brsp</a></div><div class="ttdeci">Brsp(Uart::port_t port)</div><div class="ttdoc">Construct a BRSP object. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:47</div></div>
<div class="ttc" id="class_brsp_html_a6b6f1878423724d1de37b736f5cfba06"><div class="ttname"><a href="class_brsp.html#a6b6f1878423724d1de37b736f5cfba06">Brsp::setname</a></div><div class="ttdeci">bool setname(StringSmall name)</div><div class="ttdoc">Set the name of the device. </div></div>
<div class="ttc" id="class_brsp_html_a01fbd4d828c4769a138f50f4feb25336"><div class="ttname"><a href="class_brsp.html#a01fbd4d828c4769a138f50f4feb25336">Brsp::stacktype</a></div><div class="ttdeci">StringSmall stacktype(void)</div><div class="ttdoc">Get the stack type. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:123</div></div>
<div class="ttc" id="class_brsp_html_a695f334c2c162796c89880a47ff6ba47a153b041a75e2914a30728b3d531f7bde"><div class="ttname"><a href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47a153b041a75e2914a30728b3d531f7bde">Brsp::MODE_REMOTE_COMMAND</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:57</div></div>
<div class="ttc" id="class_brsp_html_a4540263757e395151c423f69f2029337a7d26599f4c23d8a5993c6b462c54f0b0"><div class="ttname"><a href="class_brsp.html#a4540263757e395151c423f69f2029337a7d26599f4c23d8a5993c6b462c54f0b0">Brsp::FLOWCONTROL_OFF</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:91</div></div>
<div class="ttc" id="class_brsp_html_a19bd7a9f1426fbfe9478ebebe17d0086"><div class="ttname"><a href="class_brsp.html#a19bd7a9f1426fbfe9478ebebe17d0086">Brsp::addr</a></div><div class="ttdeci">StringSmall addr(void)</div><div class="ttdoc">Get the bluetooth address. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:126</div></div>
<div class="ttc" id="class_brsp_html_a400dffbf408fad4169e2635463d04072a2344c146b453a41851bf8189be905f27"><div class="ttname"><a href="class_brsp.html#a400dffbf408fad4169e2635463d04072a2344c146b453a41851bf8189be905f27">Brsp::PARITY_EVEN</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:78</div></div>
<div class="ttc" id="class_brsp_html_a92591927f3008200d587c4a8684e993d"><div class="ttname"><a href="class_brsp.html#a92591927f3008200d587c4a8684e993d">Brsp::discover</a></div><div class="ttdeci">int discover(BrspAddress addrs[], int max)</div><div class="ttdoc">Discover new devices. </div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65daf1d5b75955e85dbba2e1f01346ec1632"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65daf1d5b75955e85dbba2e1f01346ec1632">Brsp::BAUDRATE_460800</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:69</div></div>
<div class="ttc" id="class_brsp_html_a92b767c4247a8499d7621f8eaa1be35e"><div class="ttname"><a href="class_brsp.html#a92b767c4247a8499d7621f8eaa1be35e">Brsp::type</a></div><div class="ttdeci">StringSmall type(void)</div><div class="ttdoc">Get the module type. </div><div class="ttdef"><b>Definition:</b> Brsp.hpp:120</div></div>
<div class="ttc" id="class_uart_html"><div class="ttname"><a href="class_uart.html">Uart</a></div><div class="ttdoc">UART Class. </div><div class="ttdef"><b>Definition:</b> Uart.hpp:43</div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65dad6cac7a8b5e255422f87d6d26cb89502"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65dad6cac7a8b5e255422f87d6d26cb89502">Brsp::BAUDRATE_9600</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:63</div></div>
<div class="ttc" id="class_brsp_html_a557fa9f3c93880bd1b4dc705d1a93f50"><div class="ttname"><a href="class_brsp.html#a557fa9f3c93880bd1b4dc705d1a93f50">Brsp::setmode</a></div><div class="ttdeci">int setmode(mode_t mode, int handle=-1)</div><div class="ttdoc">Change between command, data, and remote command modes. </div></div>
<div class="ttc" id="class_brsp_html_a59dbca6cc9e9bcdd670a274a0b46184c"><div class="ttname"><a href="class_brsp.html#a59dbca6cc9e9bcdd670a274a0b46184c">Brsp::disconnect</a></div><div class="ttdeci">int disconnect(int handle=0)</div><div class="ttdoc">Disconnect handle. </div></div>
<div class="ttc" id="class_brsp_html_ab860b4dda877373b645fc083046a8842"><div class="ttname"><a href="class_brsp.html#ab860b4dda877373b645fc083046a8842">Brsp::rssi</a></div><div class="ttdeci">StringSmall rssi(int handle)</div><div class="ttdoc">Get the RSSI value. </div></div>
<div class="ttc" id="class_string_small_html"><div class="ttname"><a href="class_string_small.html">StringSmall</a></div><div class="ttdoc">Small String. </div><div class="ttdef"><b>Definition:</b> String.hpp:188</div></div>
<div class="ttc" id="class_periph_html_a70998e694688d44196c5198ae7cf4190"><div class="ttname"><a href="class_periph.html#a70998e694688d44196c5198ae7cf4190">Periph::write</a></div><div class="ttdeci">virtual int write(const void *buf, int nbyte)</div><div class="ttdoc">writes to the character device </div></div>
<div class="ttc" id="class_string_medium_html"><div class="ttname"><a href="class_string_medium.html">StringMedium</a></div><div class="ttdoc">Medium String. </div><div class="ttdef"><b>Definition:</b> String.hpp:196</div></div>
<div class="ttc" id="class_brsp_html_a7002c2c179e3f79b1128e992a0a5f65da00143a6fd0b3e17be5fec0b46866898a"><div class="ttname"><a href="class_brsp.html#a7002c2c179e3f79b1128e992a0a5f65da00143a6fd0b3e17be5fec0b46866898a">Brsp::BAUDRATE_38400</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:65</div></div>
<div class="ttc" id="class_brsp_html_a695f334c2c162796c89880a47ff6ba47afdd7f3d8048888b9a47d60726cf8cb1b"><div class="ttname"><a href="class_brsp.html#a695f334c2c162796c89880a47ff6ba47afdd7f3d8048888b9a47d60726cf8cb1b">Brsp::MODE_COMMAND</a></div><div class="ttdef"><b>Definition:</b> Brsp.hpp:55</div></div>
</div><!-- fragment --></div><!-- contents -->
