---
layout: page
title: Stratify OS Docs
page_source: Doxygen
---
{% include setup %}
<script type="text/javascript" src="doxy-boot.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Analog to Digital Converter (ADC)<div class="ingroups"><a class="el" href="group___s_t_f_y.html">Stratify OS</a> &raquo; <a class="el" href="group___i_f_a_c_e___d_e_v.html">Device Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>ADC Interface Spec</p>
<p>The ADC peripheral driver allows access to the MCU's built-in ADC. Each peripheral is opened using a unique port number and mode settings. Once open, any channel from the ADC can be read. Closing the peripheral will disable power to the ADC. More information about accessing hardware is in the <a class="el" href="group___i_f_a_c_e___d_e_v.html">Device Interface</a> section.</p>
<p>The following is an example of how to read the ADC in an OS environment:</p>
<div class="fragment"></div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadc__pin__assignment__t.html">adc_pin_assignment_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC Pin assignment.  <a href="structadc__pin__assignment__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga02b7f8c840dee616023f905dfaa0a14d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga02b7f8c840dee616023f905dfaa0a14d">I_ADC_GETINFO</a></td></tr>
<tr class="memdesc:ga02b7f8c840dee616023f905dfaa0a14d"><td class="mdescLeft">&#160;</td><td class="mdescRight">See below for details.  <a href="#ga02b7f8c840dee616023f905dfaa0a14d">More...</a><br /></td></tr>
<tr class="separator:ga02b7f8c840dee616023f905dfaa0a14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9007b82aa0f9af53bbb74796462927e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gaf9007b82aa0f9af53bbb74796462927e">I_ADC_SETATTR</a></td></tr>
<tr class="memdesc:gaf9007b82aa0f9af53bbb74796462927e"><td class="mdescLeft">&#160;</td><td class="mdescRight">See below for details.  <a href="#gaf9007b82aa0f9af53bbb74796462927e">More...</a><br /></td></tr>
<tr class="separator:gaf9007b82aa0f9af53bbb74796462927e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga2b69909ed23fde0ba1e5cd5a613fe7fc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga2b69909ed23fde0ba1e5cd5a613fe7fc">adc_flag_t</a> { <br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcae5f5d224a24f9296c1d17278dcc6725b">ADC_LOC_IS_GROUP</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fca6e4a7430a016eaf5c1b3efb0c0a6cb9f">ADC_FLAG_SET_CONVERTER</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcaf1fa64444269beb80e51aacf5467727d">ADC_FLAG_IS_LEFT_JUSTIFIED</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcafb2f50f276b6f4a71113181fb93e2d8a">ADC_FLAG_IS_RIGHT_JUSTIFIED</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcada4c24ba8a7ccafd467508b28515ee7b">ADC_FLAG_SET_MASTER</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcaa5d83e67f78789797640e3f00e1f86c5">ADC_FLAG_SET_SLAVE</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcaeee21a14dabb4ee11c81eef1054a7a10">ADC_FLAG_IS_TRIGGER_TMR</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcac72a7e4d9d710c1d58a4e6df6c8d05db">ADC_FLAG_IS_TRIGGER_EINT</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcadf219898ee4abc63b50d09560eadd0c5">ADC_FLAG_SET_CHANNELS</a>, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga2b69909ed23fde0ba1e5cd5a613fe7fcabea839f2420cadabe2593ea796b6cdf1">ADC_FLAG_IS_SCAN_MODE</a>
<br />
 }</td></tr>
<tr class="separator:ga2b69909ed23fde0ba1e5cd5a613fe7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga02b7f8c840dee616023f905dfaa0a14d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02b7f8c840dee616023f905dfaa0a14d">&#9670;&nbsp;</a></span>I_ADC_GETINFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_ADC_GETINFO</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This requests reads the ADC attributes.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="adc_8h.html">dev/adc.h</a>&gt;</span></div><div class="line">adc_attr_t attr;</div><div class="line"><span class="keywordtype">int</span> adc_fd;</div><div class="line">...</div><div class="line">ioctl(adc_fd, <a class="code" href="group___a_d_c.html#ga02b7f8c840dee616023f905dfaa0a14d">I_ADC_GETINFO</a>, &amp;attr);</div></div><!-- fragment --> 
</div>
</div>
<a id="gaf9007b82aa0f9af53bbb74796462927e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9007b82aa0f9af53bbb74796462927e">&#9670;&nbsp;</a></span>I_ADC_SETATTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_ADC_SETATTR</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This requests writes the ADC attributes.</p>
<p>Example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="adc_8h.html">dev/adc.h</a>&gt;</span></div><div class="line">adc_attr_t attr;</div><div class="line"><span class="keywordtype">int</span> adc_fd;</div><div class="line">...</div><div class="line">ioctl(adc_fd, <a class="code" href="group___a_d_c.html#gaf9007b82aa0f9af53bbb74796462927e">I_ADC_SETATTR</a>, &amp;attr);</div></div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga2b69909ed23fde0ba1e5cd5a613fe7fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b69909ed23fde0ba1e5cd5a613fe7fc">&#9670;&nbsp;</a></span>adc_flag_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___a_d_c.html#ga2b69909ed23fde0ba1e5cd5a613fe7fc">adc_flag_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcae5f5d224a24f9296c1d17278dcc6725b"></a>ADC_LOC_IS_GROUP&#160;</td><td class="fielddoc"><p>Set loc value when reading ADC to read the group) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fca6e4a7430a016eaf5c1b3efb0c0a6cb9f"></a>ADC_FLAG_SET_CONVERTER&#160;</td><td class="fielddoc"><p>Configure the ADC </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcaf1fa64444269beb80e51aacf5467727d"></a>ADC_FLAG_IS_LEFT_JUSTIFIED&#160;</td><td class="fielddoc"><p>Left Align data </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcafb2f50f276b6f4a71113181fb93e2d8a"></a>ADC_FLAG_IS_RIGHT_JUSTIFIED&#160;</td><td class="fielddoc"><p>Right align data </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcada4c24ba8a7ccafd467508b28515ee7b"></a>ADC_FLAG_SET_MASTER&#160;</td><td class="fielddoc"><p>Used with MCUs that have more than one ADC that can operate in master/slave mode </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcaa5d83e67f78789797640e3f00e1f86c5"></a>ADC_FLAG_SET_SLAVE&#160;</td><td class="fielddoc"><p>Used with MCUs that have more than one ADC that can operate in master/slave mode </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcaeee21a14dabb4ee11c81eef1054a7a10"></a>ADC_FLAG_IS_TRIGGER_TMR&#160;</td><td class="fielddoc"><p>Used to trigger the ADC read on a timer event </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcac72a7e4d9d710c1d58a4e6df6c8d05db"></a>ADC_FLAG_IS_TRIGGER_EINT&#160;</td><td class="fielddoc"><p>Used to trigger the ADC read on a external interrupt </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcadf219898ee4abc63b50d09560eadd0c5"></a>ADC_FLAG_SET_CHANNELS&#160;</td><td class="fielddoc"><p>Configure the channels withouth changing ADC settings </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2b69909ed23fde0ba1e5cd5a613fe7fcabea839f2420cadabe2593ea796b6cdf1"></a>ADC_FLAG_IS_SCAN_MODE&#160;</td><td class="fielddoc"><p>ADC will read every enabled channel when reading rather than the channel based on the location value </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<div style="background: #fff;">
	<div class="container">
		{% include signup.html %}
	</div>
</div>