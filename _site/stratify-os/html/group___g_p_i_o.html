
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CoActionOS Docs</title> 
<meta name="author" content="Stratify Labs, Inc">

<!-- Enable responsive viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Le styles -->
<link href="/assets/themes/twitter/bootstrap3/css/bootstrap.min.css" rel="stylesheet">
<script src="/assets/themes/twitter/bootstrap3/js/jquery-2.0.3.min.js"></script>
<script src="/assets/themes/twitter/bootstrap3/js/bootstrap.min.js"></script>
<link href="/assets/themes/twitter/bootstrap3/css/font-awesome.min.css" rel="stylesheet">
<link href="/assets/themes/twitter/css/style.css" rel="stylesheet">
<link href="/assets/themes/twitter/css/syntax.css" rel="stylesheet">
<script src="/assets/themes/twitter/js/application.js"></script>

<!-- Le fav and touch icons -->
<!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

<!-- atom & rss feed -->
<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
<link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

</head>
<body style="min-height: 200px; padding-top: 50px;">
	<header class="navbar navbar-default navbar-fixed-top bs-docs-nav" role="banner">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="navbar-header">
						<button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".menu-navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="/index.html">
							<img style="height: 22px;" src="/images/Stratify-Labs-Logo.svg" />
						</a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse menu-navbar-collapse" role="navigation">
						<ul class="nav navbar-nav">
							<li><a href="https://github.com/StratifyLabs"><i class="fa fa-code-fork"></i> Code</a></li>
							<li><a href="/tips.html"><i class="fa fa-exclamation-circle"></i> Design Tips</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<a class="anchor" id="top"></a>


	<div class="content" id="content">
		


<div class="container">
	<div class="row" style="margin-top: 20px;">
		<div class="col-md-offset-1 col-md-10">
			<div>
				
<script type="text/javascript" src="doxy-boot.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">General Purpose Input/Output (GPIO)<div class="ingroups"><a class="el" href="group___p_e_r_i_p_h_i_o.html">Peripheral Input/Output</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for General Purpose Input/Output (GPIO):</div>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group___g_p_i_o.svg" width="376" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The GPIO module gives access the the GPIO pins including reading, writing, and configuring the direction register. The GPIO module does not allow the pin to be configured for another function (such as UART TX). The core module provides this functionality with core_set_pinsel_func(). The core module is also used to configure internal resistors and modes using core_wr_pinmode().</p>
<p>The following is an example of how to use the GPIO in an OS environment:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="hwpl_8h.html">hwpl.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> gpio_example(<span class="keywordtype">void</span>){</div>
<div class="line">     <span class="keywordtype">int</span> fd;</div>
<div class="line">     <a class="code" href="structgpio__attr__t.html">gpio_attr_t</a> attr;</div>
<div class="line">     <a class="code" href="structhwpl__action__t.html">gpio_action_t</a> action;</div>
<div class="line"></div>
<div class="line">     fd = <a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#gac843f2e35e60c3bbf1da47d84306f29b">open</a>(<span class="stringliteral">&quot;/dev/gpio0&quot;</span>, O_RDWR);</div>
<div class="line">     <span class="keywordflow">if</span> ( fd &lt; 0 ){</div>
<div class="line">          printf(<span class="stringliteral">&quot;Error opening peripheral (%d)\n&quot;</span>, errno);</div>
<div class="line">     } <span class="keywordflow">else</span> {</div>
<div class="line"></div>
<div class="line">     attr.<a class="code" href="structgpio__attr__t.html#ae5802a95ffdc7d61e57161c2b5c664a1">output</a> = (1&lt;&lt;1)|(1&lt;&lt;0);</div>
<div class="line">     attr.<a class="code" href="structgpio__attr__t.html#acabb6aba050bacdb8385b78c239efee0">input</a> = 0;</div>
<div class="line">     <span class="comment">//this will configure pins 0 and 1 of GPIO Port 0 as outputs</span></div>
<div class="line">     <span class="keywordflow">if</span> ( <a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(fd, <a class="code" href="group___g_p_i_o.html#ga2a8c1f57fca0c3c3e41cfe9959d94152">I_GPIO_SETATTR</a>, &amp;attr) &lt; 0 ){</div>
<div class="line">          printf(<span class="stringliteral">&quot;Failed to configure peripheral pins (%d)\n&quot;</span>, errno);</div>
<div class="line">     }</div>
<div class="line"></div>
<div class="line">     <span class="comment">//this will set pin 0 of GPIO Port 0</span></div>
<div class="line">     <span class="keywordflow">if</span> ( <a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(fd, <a class="code" href="group___g_p_i_o.html#gacff521ca6540796711677c5a67c9bf57">I_GPIO_SETMASK</a>, (<span class="keywordtype">void</span>*)((1&lt;&lt;0))) ){</div>
<div class="line">          printf(<span class="stringliteral">&quot;Failed to set pin (%d)\n&quot;</span>, errno);</div>
<div class="line">     }</div>
<div class="line"></div>
<div class="line">     <span class="comment">//this will clear pin 1 of GPIO 0</span></div>
<div class="line">     <span class="keywordflow">if</span> ( <a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(fd, <a class="code" href="group___g_p_i_o.html#ga48610e49336a90e4d9f07be8bbb7f91a">I_GPIO_CLRMASK</a>, (<span class="keywordtype">void</span>*)((1&lt;&lt;1))) ){</div>
<div class="line">          printf(<span class="stringliteral">&quot;Failed to clear pin (%d)\n&quot;</span>, errno);</div>
<div class="line">     }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">     }</div>
<div class="line">     <a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#gaacad1d135ca2779b583623678e36db7c">close</a>(fd);</div>
<div class="line">     <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgpio__attr__t.html">gpio_attr_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO Attribute Data Structure.  <a href="structgpio__attr__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgpio__pinmode__req__t.html">gpio_pinmode_req_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga47050f028e6756e9d04e500301fa97c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga47050f028e6756e9d04e500301fa97c2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga47050f028e6756e9d04e500301fa97c2">I_GPIO_GETATTR</a></td></tr>
<tr class="memdesc:ga47050f028e6756e9d04e500301fa97c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">IOCTL request to get the attributes. <br/></td></tr>
<tr class="separator:ga47050f028e6756e9d04e500301fa97c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a8c1f57fca0c3c3e41cfe9959d94152"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2a8c1f57fca0c3c3e41cfe9959d94152"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga2a8c1f57fca0c3c3e41cfe9959d94152">I_GPIO_SETATTR</a></td></tr>
<tr class="memdesc:ga2a8c1f57fca0c3c3e41cfe9959d94152"><td class="mdescLeft">&#160;</td><td class="mdescRight">IOCTL request to set the attributes. <br/></td></tr>
<tr class="separator:ga2a8c1f57fca0c3c3e41cfe9959d94152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e067f9e5aabc84e4bb17f31a17e057a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1e067f9e5aabc84e4bb17f31a17e057a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga1e067f9e5aabc84e4bb17f31a17e057a">I_GPIO_SETACTION</a></td></tr>
<tr class="memdesc:ga1e067f9e5aabc84e4bb17f31a17e057a"><td class="mdescLeft">&#160;</td><td class="mdescRight">IOCTL request to set the action. <br/></td></tr>
<tr class="separator:ga1e067f9e5aabc84e4bb17f31a17e057a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacff521ca6540796711677c5a67c9bf57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#gacff521ca6540796711677c5a67c9bf57">I_GPIO_SETMASK</a></td></tr>
<tr class="memdesc:gacff521ca6540796711677c5a67c9bf57"><td class="mdescLeft">&#160;</td><td class="mdescRight">See below for details.  <a href="#gacff521ca6540796711677c5a67c9bf57">More...</a><br/></td></tr>
<tr class="separator:gacff521ca6540796711677c5a67c9bf57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48610e49336a90e4d9f07be8bbb7f91a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga48610e49336a90e4d9f07be8bbb7f91a">I_GPIO_CLRMASK</a></td></tr>
<tr class="memdesc:ga48610e49336a90e4d9f07be8bbb7f91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">See below for details.  <a href="#ga48610e49336a90e4d9f07be8bbb7f91a">More...</a><br/></td></tr>
<tr class="separator:ga48610e49336a90e4d9f07be8bbb7f91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b564e6de319c35315399db4a5f122ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga9b564e6de319c35315399db4a5f122ab">I_GPIO_GET</a></td></tr>
<tr class="memdesc:ga9b564e6de319c35315399db4a5f122ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">See below for details.  <a href="#ga9b564e6de319c35315399db4a5f122ab">More...</a><br/></td></tr>
<tr class="separator:ga9b564e6de319c35315399db4a5f122ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaaf80dc0fb16ded6c3bdae24ecbcd075"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#gaaaf80dc0fb16ded6c3bdae24ecbcd075">I_GPIO_SET</a></td></tr>
<tr class="memdesc:gaaaf80dc0fb16ded6c3bdae24ecbcd075"><td class="mdescLeft">&#160;</td><td class="mdescRight">See below for details.  <a href="#gaaaf80dc0fb16ded6c3bdae24ecbcd075">More...</a><br/></td></tr>
<tr class="separator:gaaaf80dc0fb16ded6c3bdae24ecbcd075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb93dce917b62e82cbe0cbeee5074ebe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#gabb93dce917b62e82cbe0cbeee5074ebe">I_GPIO_SETPINMODE</a></td></tr>
<tr class="memdesc:gabb93dce917b62e82cbe0cbeee5074ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">See below for details.  <a href="#gabb93dce917b62e82cbe0cbeee5074ebe">More...</a><br/></td></tr>
<tr class="separator:gabb93dce917b62e82cbe0cbeee5074ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gad5bba12d58022b010776d35cc964a4f8"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#gad5bba12d58022b010776d35cc964a4f8">gpio_sample_t</a></td></tr>
<tr class="separator:gad5bba12d58022b010776d35cc964a4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a5b68680a8bf05675f9b603101fdd39"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structhwpl__action__t.html">hwpl_action_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga4a5b68680a8bf05675f9b603101fdd39">gpio_action_t</a></td></tr>
<tr class="separator:ga4a5b68680a8bf05675f9b603101fdd39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga58afe68d92f686031ea2bfa3d8e30386"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga58afe68d92f686031ea2bfa3d8e30386">gpio_pinmode_t</a> { <br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga58afe68d92f686031ea2bfa3d8e30386a391bd36f93fac70554abaf6d661d6a76">GPIO_PINMODE_PULLUP</a>
, <br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga58afe68d92f686031ea2bfa3d8e30386aabf34a45310d7883792287d021ea0a1a">GPIO_PINMODE_FLOAT</a>, 
<br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga58afe68d92f686031ea2bfa3d8e30386a504f1f780f1738a16aa3798b24cc2e43">GPIO_PINMODE_PULLDOWN</a>, 
<br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga58afe68d92f686031ea2bfa3d8e30386a7881a69446525ada9ca3fbcfdd890511">GPIO_PINMODE_OUTPUT_2MHZ</a>, 
<br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga58afe68d92f686031ea2bfa3d8e30386ab669d13c257bc9ef4eeff60cb9572b70">GPIO_PINMODE_OUTPUT_10MHZ</a>, 
<br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga58afe68d92f686031ea2bfa3d8e30386a242ef0795ca49a1c54fe42a58ecc052d">GPIO_PINMODE_OUTPUT_50MHZ</a>
<br/>
 }</td></tr>
<tr class="separator:ga58afe68d92f686031ea2bfa3d8e30386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62155815bf9e14d8b08c40c25513ae68"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_p_i_o.html#ga62155815bf9e14d8b08c40c25513ae68">gpio_action_event_t</a> { <br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga62155815bf9e14d8b08c40c25513ae68aa89be0909663772ff6bbf6f32ed0d83d">GPIO_ACTION_EVENT_NONE</a>, 
<br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga62155815bf9e14d8b08c40c25513ae68ab0e52ee4061859de992f0a752cc622ad">GPIO_ACTION_EVENT_RISING</a>, 
<br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga62155815bf9e14d8b08c40c25513ae68aeeb1bdb70913ebdcd80c16d0d513a85d">GPIO_ACTION_EVENT_FALLING</a>, 
<br/>
&#160;&#160;<a class="el" href="group___g_p_i_o.html#gga62155815bf9e14d8b08c40c25513ae68a8f231c4455774d92fb9a7b4031659f63">GPIO_ACTION_EVENT_BOTH</a>
<br/>
 }</td></tr>
<tr class="separator:ga62155815bf9e14d8b08c40c25513ae68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga48610e49336a90e4d9f07be8bbb7f91a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_GPIO_CLRMASK</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request clears the pins that are set in the mask. The ctl argument is the mask. This request works like <a class="el" href="group___g_p_i_o.html#gacff521ca6540796711677c5a67c9bf57">I_GPIO_SETMASK</a> but instead of setting pins, they are cleared.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(gpio_fd, <a class="code" href="group___g_p_i_o.html#ga48610e49336a90e4d9f07be8bbb7f91a">I_GPIO_CLRMASK</a>, 0x0F);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga9b564e6de319c35315399db4a5f122ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_GPIO_GET</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request sets the action to take when an event occurs on a GPIO port. The ctl argument should be of the form void (*callback)(int) where the "int" argument will have a bit set for each pin that has a pending event.</p>
<p>Example:</p>
<ul>
<li><div class="fragment"><div class="line">uint32_t value;</div>
<div class="line">value = <a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(gpio_fd, <a class="code" href="group___g_p_i_o.html#ga9b564e6de319c35315399db4a5f122ab">I_GPIO_GET</a>);</div>
</div><!-- fragment --> </li>
</ul>

</div>
</div>
<a class="anchor" id="gaaaf80dc0fb16ded6c3bdae24ecbcd075"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_GPIO_SET</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request sets the action to take when an event occurs on a GPIO port. The ctl argument should be of the form void (*callback)(int) where the "int" argument will have a bit set for each pin that has a pending event.</p>
<p>Example:</p>
<ul>
<li><div class="fragment"><div class="line">uint32_t value;</div>
<div class="line"><a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(gpio_fd, <a class="code" href="group___g_p_i_o.html#gaaaf80dc0fb16ded6c3bdae24ecbcd075">I_GPIO_SET</a>, value);</div>
</div><!-- fragment --> </li>
</ul>

</div>
</div>
<a class="anchor" id="gacff521ca6540796711677c5a67c9bf57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_GPIO_SETMASK</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request sets the pins that are sets in the mask. The ctl argument is the mask. The following code sets bits 0 to 4 on port 4: </p>
<div class="fragment"><div class="line">gpio_fd = <a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#gac843f2e35e60c3bbf1da47d84306f29b">open</a>(<span class="stringliteral">&quot;/dev/gpio4&quot;</span>, O_RDWR<span class="stringliteral">&quot;);</span></div>
<div class="line"><span class="stringliteral">ioctl(gpio_fd, I_GPIO_SETMASK, 0x0F);</span></div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gabb93dce917b62e82cbe0cbeee5074ebe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I_GPIO_SETPINMODE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This request sets the pin mode. The following code snippet demonstrates how: </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gpio_8h.html">dev/gpio.h</a>&gt;</span></div>
<div class="line"><a class="code" href="structgpio__pinmode__req__t.html">gpio_pinmode_req_t</a> req;</div>
<div class="line">req.<a class="code" href="structgpio__pinmode__req__t.html#a536838a29a557b69c25bf5a1aa2c7f60">mode</a> = <a class="code" href="group___g_p_i_o.html#gga58afe68d92f686031ea2bfa3d8e30386a391bd36f93fac70554abaf6d661d6a76">GPIO_PINMODE_PULLUP</a>;</div>
<div class="line">req.<a class="code" href="structgpio__pinmode__req__t.html#a32646673625ad3149f2db94a551412cd">mask</a> = 0x0F; <span class="comment">//the bottom 4 bits</span></div>
<div class="line">req.open_drain = <span class="keyword">false</span>;</div>
<div class="line">req.<a class="code" href="structgpio__pinmode__req__t.html#a55d5a5e4065068722f5798859f3c1cdc">hysteresis</a> = <span class="keyword">true</span>;</div>
<div class="line"><a class="code" href="group___u_n_i___f_i_l_e___a_c_c_e_s_s.html#ga1e7463f2ee53d9da5a2ee24121aed25d">ioctl</a>(gpio_fd, <a class="code" href="group___g_p_i_o.html#gabb93dce917b62e82cbe0cbeee5074ebe">I_GPIO_SETPINMODE</a>, &amp;req);</div>
</div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga4a5b68680a8bf05675f9b603101fdd39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structhwpl__action__t.html">hwpl_action_t</a> <a class="el" href="group___g_p_i_o.html#ga4a5b68680a8bf05675f9b603101fdd39">gpio_action_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This defines a GPIO action.</p>
<p>See <a class="el" href="group___g_p_i_o.html#ga62155815bf9e14d8b08c40c25513ae68">gpio_action_event_t</a> for GPIO specific events. There are no GPIO specific channel definitions. </p>

</div>
</div>
<a class="anchor" id="gad5bba12d58022b010776d35cc964a4f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___g_p_i_o.html#gad5bba12d58022b010776d35cc964a4f8">gpio_sample_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is an MCU specific typedef of the GPIO sample size. For 32-bit MCU's this is typically a uint32_t. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga62155815bf9e14d8b08c40c25513ae68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___g_p_i_o.html#ga62155815bf9e14d8b08c40c25513ae68">gpio_action_event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This lists defines the values to use for the event when setting the action for a pin. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga62155815bf9e14d8b08c40c25513ae68aa89be0909663772ff6bbf6f32ed0d83d"></a>GPIO_ACTION_EVENT_NONE</em>&#160;</td><td class="fielddoc">
<p>Specifies No GPIO event </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga62155815bf9e14d8b08c40c25513ae68ab0e52ee4061859de992f0a752cc622ad"></a>GPIO_ACTION_EVENT_RISING</em>&#160;</td><td class="fielddoc">
<p>Specifies a rising edge on the GPIO </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga62155815bf9e14d8b08c40c25513ae68aeeb1bdb70913ebdcd80c16d0d513a85d"></a>GPIO_ACTION_EVENT_FALLING</em>&#160;</td><td class="fielddoc">
<p>Specifies a falling edge on the GPIO </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga62155815bf9e14d8b08c40c25513ae68a8f231c4455774d92fb9a7b4031659f63"></a>GPIO_ACTION_EVENT_BOTH</em>&#160;</td><td class="fielddoc">
<p>Specifies both edges on the GPIO </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga58afe68d92f686031ea2bfa3d8e30386"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___g_p_i_o.html#ga58afe68d92f686031ea2bfa3d8e30386">gpio_pinmode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This lists the PIN mode options. Not all options are supported on all architectures. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga58afe68d92f686031ea2bfa3d8e30386a391bd36f93fac70554abaf6d661d6a76"></a>GPIO_PINMODE_PULLUP</em>&#160;</td><td class="fielddoc">
<p>Use the built-in pullup </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga58afe68d92f686031ea2bfa3d8e30386aabf34a45310d7883792287d021ea0a1a"></a>GPIO_PINMODE_FLOAT</em>&#160;</td><td class="fielddoc">
<p>Leave the pin floating </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga58afe68d92f686031ea2bfa3d8e30386a504f1f780f1738a16aa3798b24cc2e43"></a>GPIO_PINMODE_PULLDOWN</em>&#160;</td><td class="fielddoc">
<p>Use the built-in pull-down </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga58afe68d92f686031ea2bfa3d8e30386a7881a69446525ada9ca3fbcfdd890511"></a>GPIO_PINMODE_OUTPUT_2MHZ</em>&#160;</td><td class="fielddoc">
<p>Max speed 2Mhz (stm32f only) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga58afe68d92f686031ea2bfa3d8e30386ab669d13c257bc9ef4eeff60cb9572b70"></a>GPIO_PINMODE_OUTPUT_10MHZ</em>&#160;</td><td class="fielddoc">
<p>Max speed 10Mhz (stm32f only) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga58afe68d92f686031ea2bfa3d8e30386a242ef0795ca49a1c54fe42a58ecc052d"></a>GPIO_PINMODE_OUTPUT_50MHZ</em>&#160;</td><td class="fielddoc">
<p>Max speed 50Mhz (stm32f only) </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->

			</div>
		</div>
	</div>
</div>



	</div>

	<footer style="background: #344555; color: #fff;">
		<div class="container">
			<div class="row" style="margin-top: 20px; margin-bottom: 20px; ">
				<div class="col-md-12">
					<p>&copy; 2016 Stratify Labs, Inc</p>
				</div>
			</div>
		</div>
	</footer>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75152879-1', 'stratifylabs.co');
  ga('send', 'pageview');

</script>
 </body>
</html>

