
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Building and Installing CoActionOS</title> 
<meta name="author" content="Stratify Labs, Inc">

<!-- Enable responsive viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Le styles -->
<link href="/assets/themes/twitter/bootstrap3/css/bootstrap.min.css" rel="stylesheet">
<script src="/assets/themes/twitter/bootstrap3/js/jquery-2.0.3.min.js"></script>
<script src="/assets/themes/twitter/bootstrap3/js/bootstrap.min.js"></script>
<link href="/assets/themes/twitter/bootstrap3/css/font-awesome.min.css" rel="stylesheet">
<link href="/assets/themes/twitter/css/style.css" rel="stylesheet">
<link href="/assets/themes/twitter/css/syntax.css" rel="stylesheet">
<script src="/assets/themes/twitter/js/application.js"></script>

<!-- Le fav and touch icons -->
<!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

<!-- atom & rss feed -->
<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
<link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

</head>
<body style="min-height: 200px; padding-top: 50px;">
	<header class="navbar navbar-default navbar-fixed-top bs-docs-nav" role="banner">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="navbar-header">
						<button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".menu-navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="/index.html">
							<img style="height: 22px;" src="/images/Stratify-Labs-Logo.svg" />
						</a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse menu-navbar-collapse" role="navigation">
						<ul class="nav navbar-nav">
							<li><a href="https://github.com/StratifyLabs"><i class="fa fa-code-fork"></i> Code</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<a class="anchor" id="top"></a>


	<div class="content" id="content">
		


<div class="container">
	<div class="row" style="margin-top: 20px;">
		<div class="col-md-offset-1 col-md-7">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h1>
						Building and Installing CoActionOS <small>CoActionOS User Guide</small>
					</h1>
				</div>
				<div class="panel-body">
					<h3 id="building-and-installing-coactionos-static-libraries">Building and Installing CoActionOS Static Libraries</h3>

<p>CoActionOS is built as a library.  The library just needs to link to the board support 
package to make the final binary.  To build CoActionOS, you need to download the 
<a href="https://github.com/CoActionOS/CoActionOS">source code</a> and import the CoActionOS 
project in to Eclipse.  Once in Eclipse, you can right click on CoActionOS 
then click Build Configurations-&gt;Build All.  Or you can just click the hammer 
icon and select the target architecture.</p>

<p>The build process will launch a script called post-process.sh (unix/linux) or post-process.bat 
(win32).  To install correctly in unix/linux you need to make sure sudo can be run with 
post-process.sh.  The easiest way to do this is to add the folowing line to /etc/sudoers.<br />
Otherwise you can edit the ask-pass.sh program to write your password to the standard output.</p>

<pre>your_username	ALL=(ALL) NOPASSWD:ALL</pre>

<h3 id="building-and-installing-kernel-binaries">Building and Installing Kernel Binaries</h3>

<div class="alert alert-info"><span class="label label-danger">Note</span> The latest version 
of the CoActionOS library is installed when you download and install the compiler.</div>

<p>Once the CoActionOS library is built and installed on your development system, you can build the kernel.  The kernel is built by downloading a “board support package”:/redmine/projects/hardware/files and importing it in to Eclipse.  With the board support package, you can modify what devices and filesystems are available on the board.  For example, the CoAction Hero board support package comes with /dev/i2c0, /dev/i2c1, /dev/i2c2.  If you comment out the following lines, these devices won’t be available to user applications.</p>

<div class="highlight"><pre><code class="language-cpp" data-lang="cpp">//DEVICE_PERIPH(&quot;i2c0&quot;, hwpl_i2c, 0, 0666, USER_ROOT, GROUP_ROOT, S_IFCHR),
//DEVICE_PERIPH(&quot;i2c1&quot;, hwpl_i2c, 1, 0666, USER_ROOT, GROUP_ROOT, S_IFCHR),
//DEVICE_PERIPH(&quot;i2c2&quot;, hwpl_i2c, 2, 0666, USER_ROOT, GROUP_ROOT, S_IFCHR),</code></pre></div>

<div class="alert alert-info"><span class="label label-danger">Note</span> If you remove 
all three I2C ports, the resulting binary will exclude the I2C driver.  However, if you 
include just one port, the resulting binary will be almost the same size as including 
all three ports.</div>

<p>The filesystems are also linked in the board support package.  You can remove a 
filesystem by commenting it out.  The / (root), /app, and /dev filesystems are 
required for proper operation.  The /home filesystem mount if for storing files 
on an external flash chip and is not required for normal operation.</p>

<div class="highlight"><pre><code class="language-cpp" data-lang="cpp">const sysfs_t const sysfs_list[] = {
	//the folder for ram/flash applications
	SYSFS_APP(&quot;/app&quot;, &amp;(devices[MEM_DEV]), SYSFS_ALL_ACCESS),
	SYSFS_DEV(&quot;/dev&quot;, devices, SYSFS_READONLY_ACCESS), //devices
	CAFS_LITE(&quot;/home&quot;, &amp;cafs_lite_cfg, SYSFS_ALL_ACCESS), //user files
	SYSFS_ROOT(&quot;/&quot;, sysfs_list, SYSFS_READONLY_ACCESS), //root
	SYSFS_TERMINATOR
};</code></pre></div>

<p>Once you have the devices and filesystems you want, you just hit the hammer in Eclipse 
to build the kernel binary.  You can then use CoActionOS Link to install the binary.</p>

				</div>
			</div>

			
			<ul class="nav nav-pills">
				
				


  
     
    	<li><a href="/tags.html#coaction-ref">coaction <span class="badge">22</span></a></li>
     
    	<li><a href="/tags.html#user-guide-ref">user-guide <span class="badge">7</span></a></li>
    
  



			</ul>
			
			<div class="pagination">
				<center>
					 
						<a href="/user%20guides/2013/12/14/CoActionOS-User-Guide-Getting-Started" type="button" class="btn btn-primary"
							data-toggle="tooltip" data-placement="left" title="" data-original-title="Previous Post"
							>
							<i class="fa fa-arrow-left"></i>
						</a> 
					 
					<a href="/archive.html" type="button" class="btn btn-primary"
						data-toggle="tooltip" data-placement="top" title="" data-original-title="Archives"
						>
						<i class="fa fa-archive"></i>
					</a> 
					<a href="/categories.html" type="button" class="btn btn-primary"
						data-toggle="tooltip" data-placement="top" title="" data-original-title="Categories"
					>
						<i class="fa fa-folder-open"></i>
					</a> 
					 
						<a href="/user%20guides/2013/12/16/CoActionOS-User-Guide-CoActionOS-and-Eclipse" type="button" class="btn btn-primary"
							data-toggle="tooltip" data-placement="right" title="" data-original-title="Next Post"
							>
							<i class="fa fa-arrow-right"></i>
						</a>
					
				</center>
			</div>
				
		</div>
		<div class="col-md-3">
		

			<h3>User Guides</h3>
			<ul class="nav nav-pills nav-stacked">
				
				
				


  
    
      
      	
      	<li class='tagged coaction user-guide'><a href="/user%20guides/2014/04/15/CoActionOS-User-Guide-Deploying-CoActionOS">Deploying CoActionOS</a></li>
      	
      
    
  
    
      
      	
      	<li class='tagged coaction user-guide'><a href="/user%20guides/2013/12/20/CoActionOS-User-Guide-Installing-Windows-Device-Drivers">Installing Windows Device Drivers</a></li>
      	
      
    
  
    
      
      	
      	<li class='tagged coaction user-guide'><a href="/user%20guides/2013/12/18/CoActionOS-User-Guide-Device-Driver-Development">Device Driver Development</a></li>
      	
      
    
  
    
      
      	
      	<li class='tagged coaction user-guide'><a href="/user%20guides/2013/12/17/CoActionOS-User-Guide-Designing-Applications-using-State-Machines">Designing Applications using State Machines</a></li>
      	
      
    
  
    
      
      	
      	<li class='tagged coaction user-guide'><a href="/user%20guides/2013/12/16/CoActionOS-User-Guide-CoActionOS-and-Eclipse">Developing on CoActionOS using Eclipse</a></li>
      	
      
    
  
    
      
      	
      	<li class='active tagged coaction user-guide'><a href="/user%20guides/2013/12/15/CoActionOS-User-Guide-Building-and-Installing-CoActionOS" class="active">Building and Installing CoActionOS</a></li>
      	
      
    
  
    
      
      	
      	<li class='tagged coaction user-guide'><a href="/user%20guides/2013/12/14/CoActionOS-User-Guide-Getting-Started">Getting Started</a></li>
      	
      
    
  



			</ul>
			
			
			
			  
		</div>
	</div>

</div>



	</div>

	<footer style="background: #344555; color: #fff;">
		<div class="container">
			<div class="row" style="margin-top: 20px; margin-bottom: 20px; ">
				<div class="col-md-12">
					<p>&copy; 2016 Stratify Labs, Inc</p>
				</div>
			</div>
		</div>
	</footer>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-21543723-3', 'coactionos.com');
  ga('send', 'pageview');

</script>
 </body>
</html>

