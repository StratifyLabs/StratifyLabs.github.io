---
layout: page
title: Stratify OS Docs
---
{% include JB/setup %}
<script type="text/javascript" src="doxy-boot.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="class_tmr-members.html">List of all members</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Tmr Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_tmr.html" title="Tmr (hardware timer) Class. ">Tmr</a> (hardware timer) Class.  
 <a href="class_tmr.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_tmr_8hpp_source.html">Tmr.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Tmr:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_tmr__inherit__graph.svg" width="115" height="827"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements a hardware timer. The <a class="el" href="class_timer.html" title="Timer Class. ">Timer</a> class implements a logical timer that is based on the system clock and can be used for many timing functions.</p>
<p>The <a class="el" href="class_tmr.html" title="Tmr (hardware timer) Class. ">Tmr</a> class can be used to configure a timer to count rising edges on an input capture pin or to generate waveforms on an output compare pin. It can also configure the timer to use the internal CPU clock at various frequencies.</p>
<p>For example this will start a microsecond timer (1Mhz) using an internal clock:</p>
<div class="fragment"><div class="line"><a class="code" href="class_tmr.html">Tmr</a> tmr(0); <span class="comment">//use /dev/tmr0</span></div><div class="line">tmr.init(); <span class="comment">//the default is 1MHz clock using the CPU see init() below</span></div><div class="line">tmr.set(0); <span class="comment">//set the value to zero</span></div><div class="line">tmr.on(); <span class="comment">//turn the timer on</span></div><div class="line"><a class="code" href="class_timer.html#a7f78341095c2c48239c7f103bdc4d952">Timer::wait_msec</a>(100);</div><div class="line">printf(<span class="stringliteral">&quot;My timer value is %d\n&quot;</span>, tmr.value()); <span class="comment">//The value will be about 100,000</span></div></div><!-- fragment --><p>Here is an example using the <a class="el" href="class_tmr.html" title="Tmr (hardware timer) Class. ">Tmr</a> to count external edges on input capture 0</p>
<div class="fragment"><div class="line"><a class="code" href="class_tmr.html">Tmr</a> tmr(0);</div><div class="line">tmr.init(0, <span class="comment">//frequency is ignored in this case</span></div><div class="line">     <a class="code" href="class_tmr.html#ae1b7a0a59f2c4206d5a498e1b87c0579ad3aee5c715a85b9ede9a44b9e02fb748">Tmr::INPUT0</a>|<a class="code" href="class_tmr.html#ae1b7a0a59f2c4206d5a498e1b87c0579ada4beb45816be36268a18ac701e3d28b">Tmr::RISING</a>, <span class="comment">//use input capture channel 0 rising edges as the clock source</span></div><div class="line">     __TMR0_PINASSIGN_PORT1_26_27_28_29, <span class="comment">//This is for the LPC17xx to use P1.26 for CAP0.0 (timer0/input0)</span></div><div class="line">     0, <span class="comment">//not using output compare channels</span></div><div class="line">     0); <span class="comment">//not using input capture (other than clock source)</span></div><div class="line">tmr.on();</div><div class="line"> <span class="comment">//Tmr0 is now counting edges arriving on P1.26 (CAP0.0) for LPC17xx devices</span></div><div class="line">printf(<span class="stringliteral">&quot;Received %d edges\n&quot;</span>, tmr.value()); <span class="comment">//show the number of edges that have arrived</span></div></div><!-- fragment --><p>You can also use the output compare channels to set the top value of the timer.</p>
<div class="fragment"><div class="line"><a class="code" href="class_tmr.html">Tmr</a> tmr(0);</div><div class="line">tmr.init(); <span class="comment">//use default settings (1MHz CPU timer)</span></div><div class="line"></div><div class="line">tmr.setaction(0,</div><div class="line">     <a class="code" href="class_tmr.html#a2eb6aca5df8784bd0223c3eca1093875a6567650f30dfdcab87d698a3d895cbd5">Tmr::RESET</a>); <span class="comment">//reset the timer to zero when the event happens</span></div><div class="line">     <span class="comment">//Now assign a value to output compare channel 0</span></div><div class="line">tmr.setoc(0, <span class="comment">//we are using output compare channel 0</span></div><div class="line">     1000000 <span class="comment">//When the count gets to 1 million (1 second at 1MHz), reset the timer</span></div><div class="line">     );</div><div class="line">tmr.on();</div></div><!-- fragment --> 
<p>Definition at line <a class="el" href="_tmr_8hpp_source.html#l00060">60</a> of file <a class="el" href="_tmr_8hpp_source.html">Tmr.hpp</a>.</p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="inherit_header pub_types_class_phy"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_phy')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_phy.html">Phy</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa30907e97bc7e720c176d1c114797bb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#aa30907e97bc7e720c176d1c114797bb6">open</a> (int flags=0)</td></tr>
<tr class="memdesc:aa30907e97bc7e720c176d1c114797bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">See details below.  <a href="#aa30907e97bc7e720c176d1c114797bb6">More...</a><br /></td></tr>
<tr class="separator:aa30907e97bc7e720c176d1c114797bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627f475c3ba42da1c583d04744632729"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a627f475c3ba42da1c583d04744632729"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a627f475c3ba42da1c583d04744632729">getattr</a> (tmr_attr_t *attr)</td></tr>
<tr class="memdesc:a627f475c3ba42da1c583d04744632729"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the TMR attributes. <br /></td></tr>
<tr class="separator:a627f475c3ba42da1c583d04744632729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb274ec6ee457275f9e16fbb70a56b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefb274ec6ee457275f9e16fbb70a56b3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#aefb274ec6ee457275f9e16fbb70a56b3">setattr</a> (const tmr_attr_t *attr)</td></tr>
<tr class="memdesc:aefb274ec6ee457275f9e16fbb70a56b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the TMR attributes. <br /></td></tr>
<tr class="separator:aefb274ec6ee457275f9e16fbb70a56b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73045df8e48c2f09829f25d59839b5b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73045df8e48c2f09829f25d59839b5b1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a73045df8e48c2f09829f25d59839b5b1">setaction</a> (const tmr_action_t *action)</td></tr>
<tr class="memdesc:a73045df8e48c2f09829f25d59839b5b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the TMR action. <br /></td></tr>
<tr class="separator:a73045df8e48c2f09829f25d59839b5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c1d901d0e5dc637d4f1bfa381a320e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a9c1d901d0e5dc637d4f1bfa381a320e5">setaction</a> (int channel, int event, mcu_callback_t callback=0, void *context=0)</td></tr>
<tr class="memdesc:a9c1d901d0e5dc637d4f1bfa381a320e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the TMR action.  <a href="#a9c1d901d0e5dc637d4f1bfa381a320e5">More...</a><br /></td></tr>
<tr class="separator:a9c1d901d0e5dc637d4f1bfa381a320e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af138cb3e59b03f7ea76213ff2751d0d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af138cb3e59b03f7ea76213ff2751d0d7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#af138cb3e59b03f7ea76213ff2751d0d7">on</a> (void)</td></tr>
<tr class="memdesc:af138cb3e59b03f7ea76213ff2751d0d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn the TMR on (start counting) <br /></td></tr>
<tr class="separator:af138cb3e59b03f7ea76213ff2751d0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3daef550f8ea13699994118a2704a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d3daef550f8ea13699994118a2704a5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a4d3daef550f8ea13699994118a2704a5">off</a> (void)</td></tr>
<tr class="memdesc:a4d3daef550f8ea13699994118a2704a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn the TMR off (stop counting) <br /></td></tr>
<tr class="separator:a4d3daef550f8ea13699994118a2704a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f94df52fb8a51038ac651a4313df37c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f94df52fb8a51038ac651a4313df37c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a3f94df52fb8a51038ac651a4313df37c">setoc</a> (const tmr_reqattr_t *req)</td></tr>
<tr class="memdesc:a3f94df52fb8a51038ac651a4313df37c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the output compare attributes. <br /></td></tr>
<tr class="separator:a3f94df52fb8a51038ac651a4313df37c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af12975a735d7184810d8fb62a6496922"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af12975a735d7184810d8fb62a6496922"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#af12975a735d7184810d8fb62a6496922">setoc</a> (int channel, uint32_t <a class="el" href="class_tmr.html#a102e4846e488b7c9cbd3b76d1e4039f5">value</a>)</td></tr>
<tr class="memdesc:af12975a735d7184810d8fb62a6496922"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the output compare unit with given parameters. <br /></td></tr>
<tr class="separator:af12975a735d7184810d8fb62a6496922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb59913ba866de8a6f0817a534fab30f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb59913ba866de8a6f0817a534fab30f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#adb59913ba866de8a6f0817a534fab30f">getoc</a> (tmr_reqattr_t *req)</td></tr>
<tr class="memdesc:adb59913ba866de8a6f0817a534fab30f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the output compare attributes. <br /></td></tr>
<tr class="separator:adb59913ba866de8a6f0817a534fab30f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2876ea4d95166232d33f81a479c1df3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2876ea4d95166232d33f81a479c1df3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#ae2876ea4d95166232d33f81a479c1df3">getoc</a> (int channel)</td></tr>
<tr class="memdesc:ae2876ea4d95166232d33f81a479c1df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the output compare attributes (no error checking) <br /></td></tr>
<tr class="separator:ae2876ea4d95166232d33f81a479c1df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2de91f08dfdc18ccaefdf11e04233c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2de91f08dfdc18ccaefdf11e04233c8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#af2de91f08dfdc18ccaefdf11e04233c8">setic</a> (const tmr_reqattr_t *req)</td></tr>
<tr class="memdesc:af2de91f08dfdc18ccaefdf11e04233c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the input capture attributes. <br /></td></tr>
<tr class="separator:af2de91f08dfdc18ccaefdf11e04233c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e737be56b3e9876e90eb280565cd0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30e737be56b3e9876e90eb280565cd0e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a30e737be56b3e9876e90eb280565cd0e">setic</a> (int channel, uint32_t <a class="el" href="class_tmr.html#a102e4846e488b7c9cbd3b76d1e4039f5">value</a>)</td></tr>
<tr class="memdesc:a30e737be56b3e9876e90eb280565cd0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the input capture unit with given parameters. <br /></td></tr>
<tr class="separator:a30e737be56b3e9876e90eb280565cd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da990f71ecb73b0519f6cf8d76a6db7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3da990f71ecb73b0519f6cf8d76a6db7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a3da990f71ecb73b0519f6cf8d76a6db7">getic</a> (tmr_reqattr_t *req)</td></tr>
<tr class="memdesc:a3da990f71ecb73b0519f6cf8d76a6db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the input capture attributes. <br /></td></tr>
<tr class="separator:a3da990f71ecb73b0519f6cf8d76a6db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17aff8f6c3de833df9daedcf0f362af6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17aff8f6c3de833df9daedcf0f362af6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a17aff8f6c3de833df9daedcf0f362af6">getic</a> (int channel)</td></tr>
<tr class="memdesc:a17aff8f6c3de833df9daedcf0f362af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the input capture value (no error checking) <br /></td></tr>
<tr class="separator:a17aff8f6c3de833df9daedcf0f362af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55128ba932e13fa05f9b4cf28d49e2b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad55128ba932e13fa05f9b4cf28d49e2b"></a>
tmr_sample_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#ad55128ba932e13fa05f9b4cf28d49e2b">get</a> (void)</td></tr>
<tr class="memdesc:ad55128ba932e13fa05f9b4cf28d49e2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the value of the TMR. <br /></td></tr>
<tr class="separator:ad55128ba932e13fa05f9b4cf28d49e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102e4846e488b7c9cbd3b76d1e4039f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a102e4846e488b7c9cbd3b76d1e4039f5"></a>
tmr_sample_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a102e4846e488b7c9cbd3b76d1e4039f5">value</a> (void)</td></tr>
<tr class="memdesc:a102e4846e488b7c9cbd3b76d1e4039f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the value of the TMR. <br /></td></tr>
<tr class="separator:a102e4846e488b7c9cbd3b76d1e4039f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941d3cb1559f357c4b8815bc6b525538"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a941d3cb1559f357c4b8815bc6b525538"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a941d3cb1559f357c4b8815bc6b525538">set</a> (tmr_sample_t <a class="el" href="class_tmr.html#a102e4846e488b7c9cbd3b76d1e4039f5">value</a>)</td></tr>
<tr class="memdesc:a941d3cb1559f357c4b8815bc6b525538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of the TMR. <br /></td></tr>
<tr class="separator:a941d3cb1559f357c4b8815bc6b525538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a375c9a6f9d188d60d3f5b645ac86b6dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a375c9a6f9d188d60d3f5b645ac86b6dd">setattr</a> (uint32_t freq, uint8_t clksrc=TMR_CLKSRC_CPU, uint8_t pin_assign=0, uint8_t enabled_oc_chans=0, uint8_t enabled_ic_chans=0)</td></tr>
<tr class="memdesc:a375c9a6f9d188d60d3f5b645ac86b6dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the TMR attributes using specified values.  <a href="#a375c9a6f9d188d60d3f5b645ac86b6dd">More...</a><br /></td></tr>
<tr class="separator:a375c9a6f9d188d60d3f5b645ac86b6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a274a0bcb0dfc2995a66b4773749725"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_tmr.html#a1a274a0bcb0dfc2995a66b4773749725">init</a> (uint32_t freq=1000000, uint8_t clksrc=TMR_CLKSRC_CPU, uint8_t pin_assign=0, uint8_t enabled_oc_chans=0, uint8_t enabled_ic_chans=0)</td></tr>
<tr class="memdesc:a1a274a0bcb0dfc2995a66b4773749725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open TMR and set attributes as specified.  <a href="#a1a274a0bcb0dfc2995a66b4773749725">More...</a><br /></td></tr>
<tr class="separator:a1a274a0bcb0dfc2995a66b4773749725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_periph"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_periph')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_periph.html">Periph</a></td></tr>
<tr class="memitem:a6ed8eb546d8a9a65933d5a0a1ea641de inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ed8eb546d8a9a65933d5a0a1ea641de"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#a6ed8eb546d8a9a65933d5a0a1ea641de">read</a> (void *buf, int nbyte)</td></tr>
<tr class="memdesc:a6ed8eb546d8a9a65933d5a0a1ea641de inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the device. <br /></td></tr>
<tr class="separator:a6ed8eb546d8a9a65933d5a0a1ea641de inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10f789c7d1d533081c949b25ec02806 inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac10f789c7d1d533081c949b25ec02806"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#ac10f789c7d1d533081c949b25ec02806">read</a> (int loc, void *buf, int nbyte)</td></tr>
<tr class="memdesc:ac10f789c7d1d533081c949b25ec02806 inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the device at the location <br /></td></tr>
<tr class="separator:ac10f789c7d1d533081c949b25ec02806 inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b8b82a61cb357582e4678ebee75c32 inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45b8b82a61cb357582e4678ebee75c32"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#a45b8b82a61cb357582e4678ebee75c32">write</a> (int loc, const void *buf, int nbyte)</td></tr>
<tr class="memdesc:a45b8b82a61cb357582e4678ebee75c32 inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">write the device at the location <br /></td></tr>
<tr class="separator:a45b8b82a61cb357582e4678ebee75c32 inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c56749bad195736171ed237cb39c77d inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c56749bad195736171ed237cb39c77d"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#a0c56749bad195736171ed237cb39c77d">readline</a> (char *buf, int nbyte, int timeout=10, char term= '\n')</td></tr>
<tr class="memdesc:a0c56749bad195736171ed237cb39c77d inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads a line from the device <br /></td></tr>
<tr class="separator:a0c56749bad195736171ed237cb39c77d inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70998e694688d44196c5198ae7cf4190 inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70998e694688d44196c5198ae7cf4190"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#a70998e694688d44196c5198ae7cf4190">write</a> (const void *buf, int nbyte)</td></tr>
<tr class="memdesc:a70998e694688d44196c5198ae7cf4190 inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes to the character device <br /></td></tr>
<tr class="separator:a70998e694688d44196c5198ae7cf4190 inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0eec7e0eadbb1f79048456f688165f inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#a8e0eec7e0eadbb1f79048456f688165f">close</a> ()</td></tr>
<tr class="memdesc:a8e0eec7e0eadbb1f79048456f688165f inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">See details below.  <a href="#a8e0eec7e0eadbb1f79048456f688165f">More...</a><br /></td></tr>
<tr class="separator:a8e0eec7e0eadbb1f79048456f688165f inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a536ad0dbc78a6b97513765b3836387 inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a536ad0dbc78a6b97513765b3836387"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#a2a536ad0dbc78a6b97513765b3836387">read</a> (<a class="el" href="class_aio.html">Aio</a> &amp;aio)</td></tr>
<tr class="memdesc:a2a536ad0dbc78a6b97513765b3836387 inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous read. <br /></td></tr>
<tr class="separator:a2a536ad0dbc78a6b97513765b3836387 inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57bc0abc82316c3e59168eb8afcd6a2 inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad57bc0abc82316c3e59168eb8afcd6a2"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#ad57bc0abc82316c3e59168eb8afcd6a2">write</a> (<a class="el" href="class_aio.html">Aio</a> &amp;aio)</td></tr>
<tr class="memdesc:ad57bc0abc82316c3e59168eb8afcd6a2 inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronous write. <br /></td></tr>
<tr class="separator:ad57bc0abc82316c3e59168eb8afcd6a2 inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8dfaa54803691f95ddaf1985875ce1c inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8dfaa54803691f95ddaf1985875ce1c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#ab8dfaa54803691f95ddaf1985875ce1c">fileno</a> (void)</td></tr>
<tr class="memdesc:ab8dfaa54803691f95ddaf1985875ce1c inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file descriptor for the peripheral. <br /></td></tr>
<tr class="separator:ab8dfaa54803691f95ddaf1985875ce1c inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfb698dfa396193b3f4f465fdf2c671 inherit pub_methods_class_periph"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0bfb698dfa396193b3f4f465fdf2c671"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_periph.html#a0bfb698dfa396193b3f4f465fdf2c671">ioctl</a> (int req, void *arg)</td></tr>
<tr class="memdesc:a0bfb698dfa396193b3f4f465fdf2c671 inherit pub_methods_class_periph"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file descriptor for the peripheral. <br /></td></tr>
<tr class="separator:a0bfb698dfa396193b3f4f465fdf2c671 inherit pub_methods_class_periph"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a2eb6aca5df8784bd0223c3eca1093875"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This lists the values for the event when using <a class="el" href="class_tmr.html#a73045df8e48c2f09829f25d59839b5b1" title="Set the TMR action. ">setaction()</a>. The values can be Or'd (|) together such as <a class="el" href="class_tmr.html#a2eb6aca5df8784bd0223c3eca1093875a6567650f30dfdcab87d698a3d895cbd5">Tmr::RESET</a>|Tmr::INTERRUPT. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a2eb6aca5df8784bd0223c3eca1093875a0e3e799e1cb2ab71bf314f77ba832a97"></a>INTERRUPT&#160;</td><td class="fielddoc">
<p>Trigger interrupt and execute callback </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2eb6aca5df8784bd0223c3eca1093875a6567650f30dfdcab87d698a3d895cbd5"></a>RESET&#160;</td><td class="fielddoc">
<p>Reset timer value to zero </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2eb6aca5df8784bd0223c3eca1093875a8c530d62274b200723fddc6591af0f02"></a>STOP&#160;</td><td class="fielddoc">
<p>Stop the timer </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2eb6aca5df8784bd0223c3eca1093875a405f97339b64929785149073bebb014a"></a>SETOC&#160;</td><td class="fielddoc">
<p>Set the output compare pin high </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2eb6aca5df8784bd0223c3eca1093875ae6be2c90de071389c864eb45800d3363"></a>CLROC&#160;</td><td class="fielddoc">
<p>Clear the output compare pin </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a2eb6aca5df8784bd0223c3eca1093875a8739460d3f2a2eb45beac31bcdf24f35"></a>TOGGLEOC&#160;</td><td class="fielddoc">
<p>Toggle the output compare pin </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="_tmr_8hpp_source.html#l00075">75</a> of file <a class="el" href="_tmr_8hpp_source.html">Tmr.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a list of the timer clock sources. Not all clock sources are available on all devices. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579aa8dd430849ddced7d27b479c115fe266"></a>CPU&#160;</td><td class="fielddoc">
<p>Use the internal CPU clock </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579ad3aee5c715a85b9ede9a44b9e02fb748"></a>INPUT0&#160;</td><td class="fielddoc">
<p>Use input 0 (device specific) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579aaeafc30752b772f7653c6e305e144724"></a>INPUT1&#160;</td><td class="fielddoc">
<p>Use input 1 (device specific) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579a635996d7a13cede1a9d92d32ab0e6220"></a>INPUT2&#160;</td><td class="fielddoc">
<p>Use input 2 (device specific) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579a073fa36087e285b012cbb010dae6ee44"></a>INPUT3&#160;</td><td class="fielddoc">
<p>Use input 3 (device specific) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579ada4beb45816be36268a18ac701e3d28b"></a>RISING&#160;</td><td class="fielddoc">
<p>Modifier to clock on rising edges </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579a901cbf50071ce505ae835666fd28b3c7"></a>FALLING&#160;</td><td class="fielddoc">
<p>Modifier to clock on falling edges </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579a403bdcfb719053ae655b32315a2ddeb5"></a>BOTH&#160;</td><td class="fielddoc">
<p>Modifier to clock on both rising and falling edges </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ae1b7a0a59f2c4206d5a498e1b87c0579a4adc1e4c7fc2702cdcb944e756f6bcfd"></a>COUNTDOWN&#160;</td><td class="fielddoc">
<p>Modifier for a countdown timer </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="_tmr_8hpp_source.html#l00175">175</a> of file <a class="el" href="_tmr_8hpp_source.html">Tmr.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1a274a0bcb0dfc2995a66b4773749725"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Tmr::init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>freq</em> = <code>1000000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clksrc</em> = <code>TMR_CLKSRC_CPU</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin_assign</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enabled_oc_chans</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enabled_ic_chans</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This opens and sets the timer attributes </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>timer frequency (if using TMR_CLKSRC_CPU) </td></tr>
    <tr><td class="paramname">clksrc</td><td>clock source for the timer (default is <a class="el" href="class_tmr.html#ae1b7a0a59f2c4206d5a498e1b87c0579aa8dd430849ddced7d27b479c115fe266">Tmr::CPU</a>) </td></tr>
    <tr><td class="paramname">pin_assign</td><td>The pin assignment if using input capture (including clock source) or output compare pins </td></tr>
    <tr><td class="paramname">enabled_oc_chans</td><td>Mask of the enabled output compare channels (only if external pins are used) </td></tr>
    <tr><td class="paramname">enabled_ic_chans</td><td>Mask of the enabled input capture channels (only if external pins are used&ndash;not including clock source) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_tmr_8hpp_source.html#l00191">191</a> of file <a class="el" href="_tmr_8hpp_source.html">Tmr.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa30907e97bc7e720c176d1c114797bb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Tmr::open </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method opens the peripheral. For each instance, the peripheral only needs to be opened one time. The port is typically opened with <a class="el" href="class_tmr.html#aa30907e97bc7e720c176d1c114797bb6" title="See details below. ">open()</a> and configured with <a class="el" href="class_tmr.html#aefb274ec6ee457275f9e16fbb70a56b3" title="Set the TMR attributes. ">setattr()</a>. After that, other instances of the peripheral can read and write without opening again. </p>

<p>Reimplemented from <a class="el" href="class_periph.html#a73ea70a12aa7098612cf5414add8ac63">Periph</a>.</p>

</div>
</div>
<a class="anchor" id="a9c1d901d0e5dc637d4f1bfa381a320e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Tmr::setaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mcu_callback_t&#160;</td>
          <td class="paramname"><em>callback</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to use </td></tr>
    <tr><td class="paramname">event</td><td>The event such as <a class="el" href="class_tmr.html#a2eb6aca5df8784bd0223c3eca1093875a0e3e799e1cb2ab71bf314f77ba832a97">Tmr::INTERRUPT</a> </td></tr>
    <tr><td class="paramname">callback</td><td>Callback executed if <a class="el" href="class_tmr.html#a2eb6aca5df8784bd0223c3eca1093875a0e3e799e1cb2ab71bf314f77ba832a97">Tmr::INTERRUPT</a> is used </td></tr>
    <tr><td class="paramname">context</td><td>First argument passed to callback </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_tmr_8hpp_source.html#l00089">89</a> of file <a class="el" href="_tmr_8hpp_source.html">Tmr.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a375c9a6f9d188d60d3f5b645ac86b6dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Tmr::setattr </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clksrc</em> = <code>TMR_CLKSRC_CPU</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin_assign</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enabled_oc_chans</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enabled_ic_chans</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>See <a class="el" href="class_tmr.html#a1a274a0bcb0dfc2995a66b4773749725" title="Open TMR and set attributes as specified. ">init()</a> for details. </p>

<p>Definition at line <a class="el" href="_tmr_8hpp_source.html#l00157">157</a> of file <a class="el" href="_tmr_8hpp_source.html">Tmr.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
